{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable prefer-spread */\n\nimport * as React from 'react';\nimport omit from 'omit.js';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport { polyfill } from 'react-lifecycles-compat';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport scrollTo from '../_util/scrollTo';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport TransButton from '../_util/transButton';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nfunction noop() {}\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\nfunction getFiltersFromColumns() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var columns = arguments.length > 1 ? arguments[1] : undefined;\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n  var _super = _createSuper(Table);\n  function Table(props) {\n    var _this;\n    _classCallCheck(this, Table);\n    _this = _super.call(this, props);\n    _this.setTableRef = function (table) {\n      _this.rcTable = table;\n    };\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!_this.props.checkboxPropsCache[key]) {\n        _this.props.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n        var checkboxProps = _this.props.checkboxPropsCache[key];\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n      return _this.props.checkboxPropsCache[key];\n    };\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: _this.props.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n    _this.generatePopupContainerFunc = function (getPopupContainer) {\n      var scroll = _this.props.scroll;\n      var table = _this.rcTable;\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    };\n    _this.scrollToFirstRow = function () {\n      var scroll = _this.props.scroll;\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this.rcTable.bodyTable;\n          }\n        });\n      }\n    };\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n      var pagination = _extends({}, _this.state.pagination);\n      var filters = _extends(_extends({}, _this.state.filters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n      var currentColumnKeys = [];\n      treeMap(_this.state.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n      getFilteredValueColumns(_this.state).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n      _this.setState(newState, function () {\n        _this.scrollToFirstRow();\n        _this.props.store.setState({\n          selectionDirty: false\n        });\n        var onChange = _this.props.onChange;\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n      var key = _this.getRecordKey(record, rowIndex);\n      var pivot = _this.state.pivot;\n      var rows = _this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this.getRecordKey(row, i);\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n        while (step <= dist) {\n          _loop();\n        }\n        _this.setState({\n          pivot: realIndex\n        });\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        _this.setState({\n          pivot: realIndex\n        });\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = _this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      _this.props.store.setState({\n        selectionDirty: true\n      });\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    };\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n      _this.props.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n      var pagination = _extends({}, _this.state.pagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n      _this.setState(newState, _this.scrollToFirstRow);\n      _this.props.store.setState({\n        selectionDirty: false\n      });\n      var onChange = _this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n      _this.setState({\n        pagination: nextPagination\n      }, _this.scrollToFirstRow);\n      var onChange = _this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          pagination: nextPagination\n        })));\n      }\n    };\n    _this.renderExpandIcon = function (prefixCls) {\n      return function (_ref) {\n        var expandable = _ref.expandable,\n          expanded = _ref.expanded,\n          needIndentSpaced = _ref.needIndentSpaced,\n          record = _ref.record,\n          onExpand = _ref.onExpand;\n        if (expandable) {\n          return /*#__PURE__*/React.createElement(LocaleReceiver, {\n            componentName: \"Table\",\n            defaultLocale: defaultLocale.Table\n          }, function (locale) {\n            var _classNames;\n            return /*#__PURE__*/React.createElement(TransButton, {\n              className: classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n              onClick: function onClick(event) {\n                onExpand(record, event);\n              },\n              \"aria-label\": expanded ? locale.collapse : locale.expand,\n              noStyle: true\n            });\n          });\n        }\n        if (needIndentSpaced) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          });\n        }\n        return null;\n      };\n    };\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n        var props = _this.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          return type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n        return /*#__PURE__*/React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.props.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n    _this.renderTable = function (_ref2) {\n      var _classNames2;\n      var prefixCls = _ref2.prefixCls,\n        renderEmpty = _ref2.renderEmpty,\n        dropdownPrefixCls = _ref2.dropdownPrefixCls,\n        contextLocale = _ref2.contextLocale,\n        contextGetPopupContainer = _ref2.getPopupContainer;\n      var _a = _this.props,\n        showHeader = _a.showHeader,\n        locale = _a.locale,\n        getPopupContainer = _a.getPopupContainer,\n        restTableProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\"]); // do not pass prop.style to rc-table, since already apply it to container div\n\n      var restProps = omit(restTableProps, ['style']);\n      var data = _this.getCurrentPageData();\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n      var classString = classNames(\"\".concat(prefixCls, \"-\").concat(_this.props.size), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames2));\n      var columnsWithRowSelection = _this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = _this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      return /*#__PURE__*/React.createElement(RcTable, _extends({\n        ref: _this.setTableRef,\n        key: \"table\",\n        expandIcon: _this.renderExpandIcon(prefixCls)\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.state.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n    _this.renderComponent = function (_ref3) {\n      var getPrefixCls = _ref3.getPrefixCls,\n        renderEmpty = _ref3.renderEmpty,\n        getPopupContainer = _ref3.getPopupContainer;\n      var _this$props = _this.props,\n        customizePrefixCls = _this$props.prefixCls,\n        customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n        style = _this$props.style,\n        className = _this$props.className;\n      var data = _this.getCurrentPageData();\n      var loading = _this.props.loading;\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = /*#__PURE__*/React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer\n        });\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, /*#__PURE__*/React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n    var expandedRowRender = props.expandedRowRender,\n      columnsProp = props.columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n    if (expandedRowRender && (columnsProp || []).some(function (_ref4) {\n      var fixed = _ref4.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n    var columns = columnsProp || normalizeColumns(props.children);\n    _this.state = _extends(_extends({}, _this.getDefaultSortOrder(columns || [])), {\n      // 减少状态\n      filters: _this.getDefaultFilters(columns),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined,\n      prevProps: props,\n      components: createComponents(props.components),\n      columns: columns\n    });\n    return _this;\n  }\n  _createClass(Table, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$state = this.state,\n        columns = _this$state.columns,\n        sortColumn = _this$state.sortColumn,\n        sortOrder = _this$state.sortOrder;\n      if (this.getSortOrderColumns(columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(columns);\n        if (!isSameColumn(sortState.sortColumn, sortColumn) || sortState.sortOrder !== sortOrder) {\n          this.setState(sortState);\n        }\n      }\n    }\n  }, {\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n      var rowSelection = getRowSelection(this.props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || (this.state || {}).columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getDefaultFilters\",\n    value: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns(this.state, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n        current = _this$state$paginatio.current,\n        pageSize = _this$state$paginatio.pageSize;\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref5 = state || this.state,\n        sortOrder = _ref5.sortOrder,\n        sortColumn = _ref5.sortColumn;\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this3 = this;\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this3.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = currentState.filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this4 = this;\n      var selectWay = selectionInfo.selectWay,\n        record = selectionInfo.record,\n        checked = selectionInfo.checked,\n        changeRowKeys = selectionInfo.changeRowKeys,\n        nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.props.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state2 = this.state,\n        sortOrder = _this$state2.sortOrder,\n        sortColumn = _this$state2.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n      var onChange = this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends(_extends({}, this.state), newState), column));\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    } // Get pagination, filters, sorter\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n      var currentColumn = column;\n      if (state.sortColumn && state.sortOrder) {\n        currentColumn = state.sortColumn;\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n      }\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var column;\n      treeMap(this.state.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this5 = this;\n      var _this$props$childrenC = this.props.childrenColumnName,\n        childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this5.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.state.pagination;\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? /*#__PURE__*/React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(_ref6) {\n      var _this6 = this;\n      var prefixCls = _ref6.prefixCls,\n        locale = _ref6.locale,\n        getPopupContainer = _ref6.getPopupContainer;\n      var rowSelection = this.props.rowSelection;\n      var columns = this.state.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || /*#__PURE__*/React.createElement(SelectionCheckboxAll, {\n            store: this.props.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(_ref7) {\n      var _this7 = this;\n      var prefixCls = _ref7.prefixCls,\n        dropdownPrefixCls = _ref7.dropdownPrefixCls,\n        columns = _ref7.columns,\n        locale = _ref7.locale,\n        getPopupContainer = _ref7.getPopupContainer;\n      var _this$state3 = this.state,\n        sortOrder = _this$state3.sortOrder,\n        filters = _this$state3.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames4;\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n        var isSortColumn = _this7.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = /*#__PURE__*/React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(getPopupContainer),\n            key: \"filter-dropdown\"\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = /*#__PURE__*/React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n            var onHeaderCellClick = colProps.onClick;\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames4)),\n          title: [/*#__PURE__*/React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state4 = this.state,\n        filters = _this$state4.filters,\n        sortOrder = _this$state4.sortOrder,\n        sortColumn = _this$state4.sortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n      return title;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevProps = prevState.prevProps;\n      var columns = nextProps.columns || normalizeColumns(nextProps.children);\n      var nextState = _extends(_extends({}, prevState), {\n        prevProps: nextProps,\n        columns: columns\n      });\n      if ('pagination' in nextProps || 'pagination' in prevProps) {\n        var newPagination = _extends(_extends(_extends({}, defaultPagination), prevState.pagination), nextProps.pagination);\n        newPagination.current = newPagination.current || 1;\n        newPagination.pageSize = newPagination.pageSize || 10;\n        nextState = _extends(_extends({}, nextState), {\n          pagination: nextProps.pagination !== false ? newPagination : emptyObject\n        });\n      }\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (prevProps.rowSelection && !nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: []\n        });\n      }\n      if ('dataSource' in nextProps && nextProps.dataSource !== prevProps.dataSource) {\n        nextProps.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n      nextProps.setCheckboxPropsCache({}); // Update filters\n\n      var filteredValueColumns = getFilteredValueColumns(nextState, nextState.columns);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns(nextState, nextState.columns);\n        var newFilters = _extends({}, nextState.filters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (isFiltersChanged(nextState, newFilters)) {\n          nextState = _extends(_extends({}, nextState), {\n            filters: newFilters\n          });\n        }\n      }\n      if (!isTheSameComponents(nextProps.components, prevProps.components)) {\n        var components = createComponents(nextProps.components);\n        nextState = _extends(_extends({}, nextState), {\n          components: components\n        });\n      }\n      return nextState;\n    }\n  }]);\n  return Table;\n}(React.Component);\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array,\n  getPopupContainer: PropTypes.func\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};\npolyfill(Table);\nvar StoreTable = /*#__PURE__*/function (_React$Component2) {\n  _inherits(StoreTable, _React$Component2);\n  var _super2 = _createSuper(StoreTable);\n  function StoreTable(props) {\n    var _this8;\n    _classCallCheck(this, StoreTable);\n    _this8 = _super2.call(this, props);\n    _this8.setCheckboxPropsCache = function (cache) {\n      return _this8.CheckboxPropsCache = cache;\n    };\n    _this8.CheckboxPropsCache = {};\n    _this8.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this8;\n  }\n  _createClass(StoreTable, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Table, _extends({}, this.props, {\n        store: this.store,\n        checkboxPropsCache: this.CheckboxPropsCache,\n        setCheckboxPropsCache: this.setCheckboxPropsCache\n      }));\n    }\n  }]);\n  return StoreTable;\n}(React.Component);\nStoreTable.displayName = 'withStore(Table)';\nStoreTable.Column = Column;\nStoreTable.ColumnGroup = ColumnGroup;\nexport default StoreTable;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","_extends","assign","source","hasOwnProperty","__rest","s","t","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","omit","RcTable","INTERNAL_COL_DEFINE","PropTypes","classNames","shallowEqual","polyfill","FilterDropdown","createStore","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","normalizeColumns","scrollTo","Pagination","Icon","Spin","TransButton","LocaleReceiver","defaultLocale","ConfigConsumer","warning","noop","stopPropagation","getRowSelection","rowSelection","getColumnKey","column","index","dataIndex","isSameColumn","a","b","other","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","keys","some","columnKey","Table","_React$Component","_super","_this","setTableRef","table","rcTable","getCheckboxPropsByItem","item","getCheckboxProps","getRecordKey","checkboxPropsCache","checkboxProps","record","rowKey","recordKey","onRow","prefixCls","custom","store","generatePopupContainerFunc","getPopupContainer","scroll","tableNode","scrollToFirstRow","scrollToFirstRowOnChange","getContainer","bodyTable","handleFilter","nextFilters","pagination","currentColumnKeys","c","children","push","current","newState","filtersToSetState","setState","selectionDirty","prepareParamsArguments","handleSelect","rowIndex","checked","nativeEvent","defaultSelection","getState","getDefaultSelection","selectedRowKeys","concat","pivot","rows","getFlatCurrentPageData","realIndex","expandedRowRender","findIndex","shiftKey","changeRowKeys","direction","Math","sign","dist","abs","step","_loop","disabled","includes","filter","j","setSelectedRowKeys","selectWay","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","data","changeableRowKeys","map","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","pageSize","nextPagination","renderExpandIcon","_ref","expandable","expanded","needIndentSpaced","onExpand","createElement","componentName","locale","_classNames","className","onClick","event","collapse","expand","noStyle","renderSelectionBox","type","_","handleChange","renderTable","_ref2","_classNames2","renderEmpty","dropdownPrefixCls","contextLocale","contextGetPopupContainer","_a","showHeader","restTableProps","restProps","getCurrentPageData","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","size","bordered","columnsWithRowSelection","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","ref","expandIcon","renderComponent","_ref3","getPrefixCls","_this$props","customizePrefixCls","customizeDropdownPrefixCls","style","loading","spinning","paginationPatchClass","hasPagination","renderPagination","columnsProp","_ref4","fixed","getDefaultSortOrder","getDefaultFilters","getDefaultPagination","prevProps","componentDidUpdate","_this$state","sortColumn","sortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","_this2","getFlatData","defaultChecked","defaultCurrent","defaultPageSize","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_this$state$paginatio","floor","getSorterFn","_ref5","sorter","getLocalData","Number","MAX_VALUE","slice","childrenColumnName","_this3","currentState","dataSource","sorterFn","recursiveSort","findColumn","values","onFilter","v","selectionInfo","_this4","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","toggleSortOrder","sortDirections","_this$state2","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this5","_this$props$childrenC","sort","paginationPosition","position","_ref6","_this6","selectionColumnClass","selections","selectionColumn","render","width","columnWidth","title","columnTitle","checkboxAllDisabled","unshift","_ref7","_this7","_this$state3","_classNames4","filterDropdown","sortButton","onHeaderCell","colFilters","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_this$state4","Function","getDerivedStateFromProps","nextProps","prevState","nextState","newPagination","setCheckboxPropsCache","filteredValueColumns","filtersFromColumns","newFilters","Component","propTypes","array","string","useFixedHeader","bool","object","oneOfType","func","defaultProps","indentSize","StoreTable","_React$Component2","_super2","_this8","cache","CheckboxPropsCache","displayName"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/antd/es/table/Table.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable prefer-spread */\n\n\nimport * as React from 'react';\nimport omit from 'omit.js';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport { polyfill } from 'react-lifecycles-compat';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport scrollTo from '../_util/scrollTo';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport TransButton from '../_util/transButton';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var columns = arguments.length > 1 ? arguments[1] : undefined;\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  var _super = _createSuper(Table);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _super.call(this, props);\n\n    _this.setTableRef = function (table) {\n      _this.rcTable = table;\n    };\n\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n\n      if (!_this.props.checkboxPropsCache[key]) {\n        _this.props.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n        var checkboxProps = _this.props.checkboxPropsCache[key];\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n\n      return _this.props.checkboxPropsCache[key];\n    };\n\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: _this.props.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n\n    _this.generatePopupContainerFunc = function (getPopupContainer) {\n      var scroll = _this.props.scroll;\n      var table = _this.rcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    };\n\n    _this.scrollToFirstRow = function () {\n      var scroll = _this.props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this.rcTable.bodyTable;\n          }\n        });\n      }\n    };\n\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      var filters = _extends(_extends({}, _this.state.filters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(_this.state.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns(_this.state).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, function () {\n        _this.scrollToFirstRow();\n\n        _this.props.store.setState({\n          selectionDirty: false\n        });\n\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var pivot = _this.state.pivot;\n\n      var rows = _this.getFlatCurrentPageData();\n\n      var realIndex = rowIndex;\n\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this.getRecordKey(row, i);\n\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var selectedRowKeys = [key];\n\n      _this.props.store.setState({\n        selectionDirty: true\n      });\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      _this.props.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, _this.scrollToFirstRow);\n\n      _this.props.store.setState({\n        selectionDirty: false\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n\n      _this.setState({\n        pagination: nextPagination\n      }, _this.scrollToFirstRow);\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          pagination: nextPagination\n        })));\n      }\n    };\n\n    _this.renderExpandIcon = function (prefixCls) {\n      return function (_ref) {\n        var expandable = _ref.expandable,\n            expanded = _ref.expanded,\n            needIndentSpaced = _ref.needIndentSpaced,\n            record = _ref.record,\n            onExpand = _ref.onExpand;\n\n        if (expandable) {\n          return /*#__PURE__*/React.createElement(LocaleReceiver, {\n            componentName: \"Table\",\n            defaultLocale: defaultLocale.Table\n          }, function (locale) {\n            var _classNames;\n\n            return /*#__PURE__*/React.createElement(TransButton, {\n              className: classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n              onClick: function onClick(event) {\n                onExpand(record, event);\n              },\n              \"aria-label\": expanded ? locale.collapse : locale.expand,\n              noStyle: true\n            });\n          });\n        }\n\n        if (needIndentSpaced) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          });\n        }\n\n        return null;\n      };\n    };\n\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n\n        var props = _this.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          return type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n\n        return /*#__PURE__*/React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.props.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n\n    _this.renderTable = function (_ref2) {\n      var _classNames2;\n\n      var prefixCls = _ref2.prefixCls,\n          renderEmpty = _ref2.renderEmpty,\n          dropdownPrefixCls = _ref2.dropdownPrefixCls,\n          contextLocale = _ref2.contextLocale,\n          contextGetPopupContainer = _ref2.getPopupContainer;\n\n      var _a = _this.props,\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          getPopupContainer = _a.getPopupContainer,\n          restTableProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\"]); // do not pass prop.style to rc-table, since already apply it to container div\n\n\n      var restProps = omit(restTableProps, ['style']);\n\n      var data = _this.getCurrentPageData();\n\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames(\"\".concat(prefixCls, \"-\").concat(_this.props.size), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames2));\n\n      var columnsWithRowSelection = _this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n\n      var columns = _this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      return /*#__PURE__*/React.createElement(RcTable, _extends({\n        ref: _this.setTableRef,\n        key: \"table\",\n        expandIcon: _this.renderExpandIcon(prefixCls)\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.state.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n\n    _this.renderComponent = function (_ref3) {\n      var getPrefixCls = _ref3.getPrefixCls,\n          renderEmpty = _ref3.renderEmpty,\n          getPopupContainer = _ref3.getPopupContainer;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n          style = _this$props.style,\n          className = _this$props.className;\n\n      var data = _this.getCurrentPageData();\n\n      var loading = _this.props.loading;\n\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = /*#__PURE__*/React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer\n        });\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, /*#__PURE__*/React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n\n    var expandedRowRender = props.expandedRowRender,\n        columnsProp = props.columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n\n    if (expandedRowRender && (columnsProp || []).some(function (_ref4) {\n      var fixed = _ref4.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n\n    var columns = columnsProp || normalizeColumns(props.children);\n    _this.state = _extends(_extends({}, _this.getDefaultSortOrder(columns || [])), {\n      // 减少状态\n      filters: _this.getDefaultFilters(columns),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined,\n      prevProps: props,\n      components: createComponents(props.components),\n      columns: columns\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$state = this.state,\n          columns = _this$state.columns,\n          sortColumn = _this$state.sortColumn,\n          sortOrder = _this$state.sortOrder;\n\n      if (this.getSortOrderColumns(columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(columns);\n\n        if (!isSameColumn(sortState.sortColumn, sortColumn) || sortState.sortOrder !== sortOrder) {\n          this.setState(sortState);\n        }\n      }\n    }\n  }, {\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n\n      var rowSelection = getRowSelection(this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || (this.state || {}).columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getDefaultFilters\",\n    value: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns(this.state, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref5 = state || this.state,\n          sortOrder = _ref5.sortOrder,\n          sortColumn = _ref5.sortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this3 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this3.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = currentState.filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this4 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.props.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state2 = this.state,\n          sortOrder = _this$state2.sortOrder,\n          sortColumn = _this$state2.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      var onChange = this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends(_extends({}, this.state), newState), column));\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    } // Get pagination, filters, sorter\n\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sortColumn && state.sortOrder) {\n        currentColumn = state.sortColumn;\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var column;\n      treeMap(this.state.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this5 = this;\n\n      var _this$props$childrenC = this.props.childrenColumnName,\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this5.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.state.pagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? /*#__PURE__*/React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(_ref6) {\n      var _this6 = this;\n\n      var prefixCls = _ref6.prefixCls,\n          locale = _ref6.locale,\n          getPopupContainer = _ref6.getPopupContainer;\n      var rowSelection = this.props.rowSelection;\n      var columns = this.state.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || /*#__PURE__*/React.createElement(SelectionCheckboxAll, {\n            store: this.props.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(_ref7) {\n      var _this7 = this;\n\n      var prefixCls = _ref7.prefixCls,\n          dropdownPrefixCls = _ref7.dropdownPrefixCls,\n          columns = _ref7.columns,\n          locale = _ref7.locale,\n          getPopupContainer = _ref7.getPopupContainer;\n      var _this$state3 = this.state,\n          sortOrder = _this$state3.sortOrder,\n          filters = _this$state3.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames4;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n\n        var isSortColumn = _this7.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = /*#__PURE__*/React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(getPopupContainer),\n            key: \"filter-dropdown\"\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = /*#__PURE__*/React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames4)),\n          title: [/*#__PURE__*/React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state4 = this.state,\n          filters = _this$state4.filters,\n          sortOrder = _this$state4.sortOrder,\n          sortColumn = _this$state4.sortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevProps = prevState.prevProps;\n      var columns = nextProps.columns || normalizeColumns(nextProps.children);\n\n      var nextState = _extends(_extends({}, prevState), {\n        prevProps: nextProps,\n        columns: columns\n      });\n\n      if ('pagination' in nextProps || 'pagination' in prevProps) {\n        var newPagination = _extends(_extends(_extends({}, defaultPagination), prevState.pagination), nextProps.pagination);\n\n        newPagination.current = newPagination.current || 1;\n        newPagination.pageSize = newPagination.pageSize || 10;\n        nextState = _extends(_extends({}, nextState), {\n          pagination: nextProps.pagination !== false ? newPagination : emptyObject\n        });\n      }\n\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (prevProps.rowSelection && !nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: []\n        });\n      }\n\n      if ('dataSource' in nextProps && nextProps.dataSource !== prevProps.dataSource) {\n        nextProps.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n\n      nextProps.setCheckboxPropsCache({}); // Update filters\n\n      var filteredValueColumns = getFilteredValueColumns(nextState, nextState.columns);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns(nextState, nextState.columns);\n\n        var newFilters = _extends({}, nextState.filters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged(nextState, newFilters)) {\n          nextState = _extends(_extends({}, nextState), {\n            filters: newFilters\n          });\n        }\n      }\n\n      if (!isTheSameComponents(nextProps.components, prevProps.components)) {\n        var components = createComponents(nextProps.components);\n        nextState = _extends(_extends({}, nextState), {\n          components: components\n        });\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array,\n  getPopupContainer: PropTypes.func\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};\npolyfill(Table);\n\nvar StoreTable = /*#__PURE__*/function (_React$Component2) {\n  _inherits(StoreTable, _React$Component2);\n\n  var _super2 = _createSuper(StoreTable);\n\n  function StoreTable(props) {\n    var _this8;\n\n    _classCallCheck(this, StoreTable);\n\n    _this8 = _super2.call(this, props);\n\n    _this8.setCheckboxPropsCache = function (cache) {\n      return _this8.CheckboxPropsCache = cache;\n    };\n\n    _this8.CheckboxPropsCache = {};\n    _this8.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this8;\n  }\n\n  _createClass(StoreTable, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Table, _extends({}, this.props, {\n        store: this.store,\n        checkboxPropsCache: this.CheckboxPropsCache,\n        setCheckboxPropsCache: this.setCheckboxPropsCache\n      }));\n    }\n  }]);\n\n  return StoreTable;\n}(React.Component);\n\nStoreTable.displayName = 'withStore(Table)';\nStoreTable.Column = Column;\nStoreTable.ColumnGroup = ColumnGroup;\nexport default StoreTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}