{"ast":null,"code":"import { Modifier, EditorState } from 'draft-js';\nimport getSearchWord from './getSearchWord';\nexport default function insertMention(editorState, mention, data, mode) {\n  var entityMode = mode === 'immutable' ? 'IMMUTABLE' : 'MUTABLE';\n  var selection = editorState.getSelection();\n  var contentState = editorState.getCurrentContent();\n  contentState.createEntity('mention', entityMode, data || mention);\n  var searchWord = getSearchWord(editorState, selection);\n  var begin = searchWord.begin,\n    end = searchWord.end;\n  var replacedContent = Modifier.replaceText(contentState, selection.merge({\n    anchorOffset: begin,\n    focusOffset: end\n  }), mention, null, contentState.getLastCreatedEntityKey());\n  var InsertSpaceContent = Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');\n  var newEditorState = EditorState.push(editorState, InsertSpaceContent, 'insert-mention');\n  return EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());\n}","map":{"version":3,"names":["Modifier","EditorState","getSearchWord","insertMention","editorState","mention","data","mode","entityMode","selection","getSelection","contentState","getCurrentContent","createEntity","searchWord","begin","end","replacedContent","replaceText","merge","anchorOffset","focusOffset","getLastCreatedEntityKey","InsertSpaceContent","insertText","getSelectionAfter","newEditorState","push","forceSelection"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-mention/es/utils/insertMention.js"],"sourcesContent":["import { Modifier, EditorState } from 'draft-js';\nimport getSearchWord from './getSearchWord';\n\nexport default function insertMention(editorState, mention, data, mode) {\n  var entityMode = mode === 'immutable' ? 'IMMUTABLE' : 'MUTABLE';\n  var selection = editorState.getSelection();\n  var contentState = editorState.getCurrentContent();\n\n  contentState.createEntity('mention', entityMode, data || mention);\n  var searchWord = getSearchWord(editorState, selection);\n  var begin = searchWord.begin,\n      end = searchWord.end;\n\n  var replacedContent = Modifier.replaceText(contentState, selection.merge({\n    anchorOffset: begin,\n    focusOffset: end\n  }), mention, null, contentState.getLastCreatedEntityKey());\n\n  var InsertSpaceContent = Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');\n\n  var newEditorState = EditorState.push(editorState, InsertSpaceContent, 'insert-mention');\n  return EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());\n}"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,UAAU;AAChD,OAAOC,aAAa,MAAM,iBAAiB;AAE3C,eAAe,SAASC,aAAaA,CAACC,WAAW,EAAEC,OAAO,EAAEC,IAAI,EAAEC,IAAI,EAAE;EACtE,IAAIC,UAAU,GAAGD,IAAI,KAAK,WAAW,GAAG,WAAW,GAAG,SAAS;EAC/D,IAAIE,SAAS,GAAGL,WAAW,CAACM,YAAY,CAAC,CAAC;EAC1C,IAAIC,YAAY,GAAGP,WAAW,CAACQ,iBAAiB,CAAC,CAAC;EAElDD,YAAY,CAACE,YAAY,CAAC,SAAS,EAAEL,UAAU,EAAEF,IAAI,IAAID,OAAO,CAAC;EACjE,IAAIS,UAAU,GAAGZ,aAAa,CAACE,WAAW,EAAEK,SAAS,CAAC;EACtD,IAAIM,KAAK,GAAGD,UAAU,CAACC,KAAK;IACxBC,GAAG,GAAGF,UAAU,CAACE,GAAG;EAExB,IAAIC,eAAe,GAAGjB,QAAQ,CAACkB,WAAW,CAACP,YAAY,EAAEF,SAAS,CAACU,KAAK,CAAC;IACvEC,YAAY,EAAEL,KAAK;IACnBM,WAAW,EAAEL;EACf,CAAC,CAAC,EAAEX,OAAO,EAAE,IAAI,EAAEM,YAAY,CAACW,uBAAuB,CAAC,CAAC,CAAC;EAE1D,IAAIC,kBAAkB,GAAGvB,QAAQ,CAACwB,UAAU,CAACP,eAAe,EAAEA,eAAe,CAACQ,iBAAiB,CAAC,CAAC,EAAE,GAAG,CAAC;EAEvG,IAAIC,cAAc,GAAGzB,WAAW,CAAC0B,IAAI,CAACvB,WAAW,EAAEmB,kBAAkB,EAAE,gBAAgB,CAAC;EACxF,OAAOtB,WAAW,CAAC2B,cAAc,CAACF,cAAc,EAAEH,kBAAkB,CAACE,iBAAiB,CAAC,CAAC,CAAC;AAC3F"},"metadata":{},"sourceType":"module","externalDependencies":[]}