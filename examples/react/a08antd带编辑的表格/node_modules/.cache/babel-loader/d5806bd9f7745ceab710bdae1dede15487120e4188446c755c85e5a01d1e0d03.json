{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport OriginCSSMotion, { MotionPropTypes } from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = Object.keys(MotionPropTypes);\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n  var CSSMotionList = function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n    function CSSMotionList() {\n      var _ref;\n      var _temp, _this, _ret;\n      _classCallCheck(this, CSSMotionList);\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CSSMotionList.__proto__ || Object.getPrototypeOf(CSSMotionList)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        keyEntities: []\n      }, _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref2) {\n          var keyEntities = _ref2.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _extends({}, entity, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n    _createClass(CSSMotionList, [{\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n        var keyEntities = this.state.keyEntities;\n        var _props = this.props,\n          component = _props.component,\n          children = _props.children,\n          restProps = _objectWithoutProperties(_props, ['component', 'children']);\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return React.createElement(Component, restProps, keyEntities.map(function (_ref3) {\n          var status = _ref3.status,\n            eventProps = _objectWithoutProperties(_ref3, ['status']);\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return React.createElement(CSSMotion, _extends({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onLeaveEnd: function onLeaveEnd() {\n              if (motionProps.onLeaveEnd) {\n                motionProps.onLeaveEnd.apply(motionProps, arguments);\n              }\n              _this2.removeKey(eventProps.key);\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(_ref4, _ref5) {\n        var keys = _ref4.keys;\n        var keyEntities = _ref5.keyEntities;\n        var parsedKeyObjects = parseKeys(keys);\n\n        // Always as keep when motion not support\n        if (!transitionSupport) {\n          return {\n            keyEntities: parsedKeyObjects.map(function (obj) {\n              return _extends({}, obj, {\n                status: STATUS_KEEP\n              });\n            })\n          };\n        }\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        var keyEntitiesLen = keyEntities.length;\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            // IE 9 not support Array.prototype.find\n            var prevEntity = null;\n            for (var i = 0; i < keyEntitiesLen; i += 1) {\n              var currentEntity = keyEntities[i];\n              if (currentEntity.key === entity.key) {\n                prevEntity = currentEntity;\n                break;\n              }\n            }\n\n            // Remove if already mark as removed\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n            return true;\n          })\n        };\n      }\n    }]);\n    return CSSMotionList;\n  }(React.Component);\n  CSSMotionList.propTypes = _extends({}, CSSMotion.propTypes, {\n    component: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    keys: PropTypes.array\n  });\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  polyfill(CSSMotionList);\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);","map":{"version":3,"names":["_objectWithoutProperties","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","polyfill","PropTypes","OriginCSSMotion","MotionPropTypes","supportTransition","STATUS_ADD","STATUS_KEEP","STATUS_REMOVE","STATUS_REMOVED","diffKeys","parseKeys","MOTION_PROP_NAMES","Object","keys","genCSSMotionList","transitionSupport","CSSMotion","arguments","length","undefined","CSSMotionList","_React$Component","_ref","_temp","_this","_ret","_len","args","Array","_key","__proto__","getPrototypeOf","call","apply","concat","state","keyEntities","removeKey","setState","_ref2","map","entity","key","status","value","render","_this2","_props","props","component","children","restProps","Component","Fragment","motionProps","forEach","prop","createElement","_ref3","eventProps","visible","onLeaveEnd","getDerivedStateFromProps","_ref4","_ref5","parsedKeyObjects","obj","mixedKeyEntities","keyEntitiesLen","filter","prevEntity","i","currentEntity","propTypes","oneOfType","string","bool","array","defaultProps"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-animate/es/CSSMotionList.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport OriginCSSMotion, { MotionPropTypes } from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\n\nvar MOTION_PROP_NAMES = Object.keys(MotionPropTypes);\n\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    function CSSMotionList() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, CSSMotionList);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CSSMotionList.__proto__ || Object.getPrototypeOf(CSSMotionList)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        keyEntities: []\n      }, _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref2) {\n          var keyEntities = _ref2.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _extends({}, entity, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(CSSMotionList, [{\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _props = this.props,\n            component = _props.component,\n            children = _props.children,\n            restProps = _objectWithoutProperties(_props, ['component', 'children']);\n\n        var Component = component || React.Fragment;\n\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n\n        return React.createElement(\n          Component,\n          restProps,\n          keyEntities.map(function (_ref3) {\n            var status = _ref3.status,\n                eventProps = _objectWithoutProperties(_ref3, ['status']);\n\n            var visible = status === STATUS_ADD || status === STATUS_KEEP;\n            return React.createElement(\n              CSSMotion,\n              _extends({}, motionProps, {\n                key: eventProps.key,\n                visible: visible,\n                eventProps: eventProps,\n                onLeaveEnd: function onLeaveEnd() {\n                  if (motionProps.onLeaveEnd) {\n                    motionProps.onLeaveEnd.apply(motionProps, arguments);\n                  }\n                  _this2.removeKey(eventProps.key);\n                }\n              }),\n              children\n            );\n          })\n        );\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(_ref4, _ref5) {\n        var keys = _ref4.keys;\n        var keyEntities = _ref5.keyEntities;\n\n        var parsedKeyObjects = parseKeys(keys);\n\n        // Always as keep when motion not support\n        if (!transitionSupport) {\n          return {\n            keyEntities: parsedKeyObjects.map(function (obj) {\n              return _extends({}, obj, { status: STATUS_KEEP });\n            })\n          };\n        }\n\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n\n        var keyEntitiesLen = keyEntities.length;\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            // IE 9 not support Array.prototype.find\n            var prevEntity = null;\n            for (var i = 0; i < keyEntitiesLen; i += 1) {\n              var currentEntity = keyEntities[i];\n              if (currentEntity.key === entity.key) {\n                prevEntity = currentEntity;\n                break;\n              }\n            }\n\n            // Remove if already mark as removed\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.propTypes = _extends({}, CSSMotion.propTypes, {\n    component: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    keys: PropTypes.array\n  });\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n\n\n  polyfill(CSSMotionList);\n\n  return CSSMotionList;\n}\n\nexport default genCSSMotionList(supportTransition);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}