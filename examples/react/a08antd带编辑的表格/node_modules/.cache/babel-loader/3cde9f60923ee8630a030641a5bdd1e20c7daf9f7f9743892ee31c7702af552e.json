{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option'; // Where el is the DOM element you'd like to test for visibility\n\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\nvar noop = function noop() {\n  return null;\n};\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\nvar Select = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n  function Select(props) {\n    var _this;\n    _classCallCheck(this, Select);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n        _this.setInputValue('', false);\n        return;\n      }\n      _this.setInputValue(val);\n      _this.setState({\n        open: true\n      });\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n        _this.timeoutFocus();\n        _this._focused = true;\n        _this.updateFocusClassName();\n      }\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n      if (disabled) {\n        return;\n      }\n      var keyCode = event.keyCode;\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n          event.preventDefault();\n        }\n      }\n    };\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n        disabled = _this$props.disabled,\n        combobox = _this$props.combobox,\n        defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n      if (disabled) {\n        return;\n      }\n      var state = _this.state;\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n      var keyCode = event.keyCode;\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n        return;\n      }\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        return;\n      }\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n      if (!item) {\n        return;\n      }\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n      _this.fireSelect(selectedValue);\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n        domEvent = _ref2.domEvent;\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = ReactDOM.findDOMNode(item); // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n\n        if (!isHidden(menuItemDomNode)) {\n          _this.removeSelected(getValuePropValue(item));\n        }\n        return;\n      }\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n      var props = _this.props;\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n      var inputNode = _this.getInputDOMNode();\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n      if (_this._focused) {\n        return;\n      }\n      _this._focused = true;\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n        _this.updateFocusClassName();\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n          var tmpValue = _this.getValueByInput(inputValue);\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n          _this._mouseDown = false;\n          return;\n        }\n        _this.setOpenState(false);\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n      if (props.disabled) {\n        return;\n      }\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n      if (info) {\n        return info;\n      }\n      var defaultLabel = value;\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n        option = _this$getOptionInfoBy.option;\n      return option;\n    };\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n        if (disabled) {\n          return;\n        }\n        var oldLable = toArray(info.label);\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n      return value;\n    };\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n      return vls;\n    };\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n        label = _this$getOptionInfoBy2.label;\n      return label;\n    };\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n      return _this.dropdownContainer;\n    };\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n      if (state.inputValue) {\n        hidden = true;\n      }\n      var value = state.value;\n      if (value.length) {\n        hidden = true;\n      }\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n      var placeholder = props.placeholder;\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n      return null;\n    };\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n        fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n        return;\n      }\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n        multiple = _this$props2.multiple,\n        tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n      return open;\n    };\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n      var key = getValuePropValue(item);\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n      var filterFn = _this.props.filterOption;\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n      return true;\n    };\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n        var _document = document,\n          activeElement = _document.activeElement;\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n          _this._focused = true;\n        }\n      }\n    };\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n      if (canMultiple) {\n        var event = selectedKey;\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n      _this.fireChange(value);\n    };\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n    _this.fireChange = function (value) {\n      var props = _this.props;\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n      var vls = _this.getVLForOnChange(value);\n      var options = _this.getOptionsBySingleValue(value);\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n        children = _this$props3.children,\n        tags = _this$props3.tags,\n        notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n        var type = child.type;\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n          return;\n        }\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n        open = _this$state.open,\n        inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n        prefixCls = props.prefixCls,\n        maxTagTextLength = props.maxTagTextLength,\n        maxTagCount = props.maxTagCount,\n        showSearch = props.showSearch,\n        removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n          var singleValue = value[0];\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n            label = _this$getOptionInfoBy3.label,\n            title = _this$getOptionInfoBy3.title;\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n            var content = info.label;\n            var title = info.title || content;\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n            var disabled = _this.isChildDisabled(singleValue);\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n        _this$props4$showArro = _this$props4.showArrow,\n        showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n        loading = _this$props4.loading,\n        inputIcon = _this$props4.inputIcon,\n        prefixCls = _this$props4.prefixCls;\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n        prefixCls = _this$props5.prefixCls,\n        allowClear = _this$props5.allowClear,\n        clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n      if (!allowClear) {\n        return null;\n      }\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n        return null;\n      }\n      if (inputValue || value.length) {\n        return clear;\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n        showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n        disabled = props.disabled,\n        prefixCls = props.prefixCls,\n        loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n        open = _this$state2.open,\n        ariaId = _this$state2.ariaId;\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends(_extends({}, extraSelectionProps), {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n  return Select;\n}(React.Component);\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n  if (nextProps.disabled && prevState.open) {\n    newState.open = false;\n  }\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n  return newState;\n};\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n    var type = child.type;\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n  var label = value;\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n  if (label === undefined) {\n    label = '';\n  }\n  return label;\n};\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n  return optionsInfo;\n};\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n  return value;\n};\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","p","classnames","classes","Animate","Item","MenuItem","ItemGroup","MenuItemGroup","childrenToArray","KeyCode","React","ReactDOM","polyfill","warning","Option","isHidden","node","offsetParent","SelectPropTypes","SelectTrigger","defaultFilterFn","findFirstMenuItem","findIndexInValueBySingleValue","generateUUID","getLabelFromPropsValue","getMapKey","getPropValue","getValuePropValue","includesSeparators","isCombobox","isMultipleOrTags","isMultipleOrTagsOrCombobox","isSingleMode","preventDefaultEvent","saveRef","splitBySeparators","toArray","toTitle","UNSELECTABLE_ATTRIBUTE","UNSELECTABLE_STYLE","validateOptionValue","SELECT_EMPTY_VALUE_KEY","noop","chaining","_len","fns","Array","_key","_len2","args","_key2","Select","_React$Component","_this","inputRef","inputMirrorRef","topCtrlRef","selectTriggerRef","rootRef","selectionRef","dropdownContainer","blurTimer","focusTimer","comboboxTimer","_focused","_mouseDown","_options","_empty","onInputChange","event","tokenSeparators","val","nextValue","getValueByInput","undefined","fireChange","setOpenState","needFocus","setInputValue","setState","open","onDropdownVisibleChange","clearBlurTime","timeoutFocus","updateFocusClassName","onKeyDown","state","disabled","keyCode","getInputDOMNode","onInputKeyDown","ENTER","DOWN","preventDefault","SPACE","_this$props","combobox","defaultActiveFirstOption","isRealOpen","getRealOpenState","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","setTimeout","ESC","menu","getInnerMenu","handleBackfill","onMenuSelect","_ref","item","selectedValue","lastValue","skipTrigger","concat","backfillValue","fireSearch","fireSelect","inputValue","optionLabelProp","autoClearSearchValue","onMenuDeselect","_ref2","domEvent","type","menuItemDomNode","findDOMNode","onArrowClick","e","onPlaceholderClick","focus","onOuterFocus","inputNode","onPopupFocus","maybeFocus","onOuterBlur","window","showSearch","options","firstOption","tmpValue","onBlur","getVLForOnChange","onClearSelection","onChoiceAnimationLeave","forcePopupAlign","getOptionInfoBySingleValue","optionsInfo","info","defaultLabel","labelInValue","valueLabel","defaultValueLabel","defaultValue","defaultInfo","option","createElement","label","getOptionBySingleValue","_this$getOptionInfoBy","getOptionsBySingleValue","values","map","getValueByLabel","keys","forEach","oldLable","join","getVLBySingleValue","getLabelBySingleValue","vlsS","vls","v","vl","_this$getOptionInfoBy2","getDropdownContainer","document","body","appendChild","getPlaceholderElement","hidden","placeholder","onMouseDown","style","display","onClick","className","prefixCls","getInputElement","defaultInput","id","autoComplete","inputElement","inputCls","cloneElement","ref","saveInputRef","onChange","saveInputMirrorRef","querySelector","getInputMirrorDOMNode","getPopupDOMNode","getPopupMenuComponent","config","nextState","onSearch","prevState","str","_this$props2","multiple","hasNewValue","_open","markMouseDown","markMouseLeave","backfill","filterOption","input","child","defaultFilter","filterFn","bind","onFocus","clearFocusTime","clearTimeout","clearComboboxTime","add","remove","_document","activeElement","selectedKey","isChildDisabled","oldValue","filter","singleValue","canMultiple","onDeselect","Children","count","children","onSelect","some","childValue","triggerRef","renderFilterOptions","_this$props3","tags","notFoundContent","menuItems","childrenKeys","empty","renderFilterOptionsFromChildren","indexOf","String","sort","val1","val2","menuItem","role","attribute","push","every","unshift","sel","isSelectOptGroup","innerItems","subChild","childValueSub","title","_innerItems","isSelectOption","name","displayName","renderTopControlNode","_this$state","choiceTransitionName","maxTagTextLength","maxTagCount","removeIcon","maxTagPlaceholder","innerNode","showSelectedValue","opacity","_this$getOptionInfoBy3","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","onLeave","component","transitionName","saveTopCtrlRef","getOptionsInfoFromProps","isDisabledExist","getValueFromProps","getInputValueForCombobox","defaultOpen","skipBuildOptionsInfo","ariaId","saveSelectTriggerRef","saveRootRef","saveSelectionRef","componentDidMount","autoFocus","componentDidUpdate","mirrorNode","width","clientWidth","componentWillUnmount","unmountComponentAtNode","removeChild","blur","renderArrow","_this$props4","_this$props4$showArro","showArrow","loading","inputIcon","defaultIcon","renderClear","_this$props5","allowClear","clearIcon","clear","render","_rootCls","_props$showArrow","ctrlNode","_this$state2","filterOptions","realOpen","dataOrAriaAttributeProps","substr","extraSelectionProps","tabIndex","rootCls","onMouseEnter","onMouseLeave","dropdownAlign","dropdownClassName","dropdownMatchSelectWidth","dropdownMenuStyle","animation","dropdownStyle","visible","firstActiveValue","getPopupContainer","onPopupScroll","showAction","menuItemSelectedIcon","dropdownRender","onMouseUp","onMouseOut","Component","propTypes","defaultProps","optionFilterProp","getDerivedStateFromProps","nextProps","newState","getOptionsFromChildren","useDefaultValue","getLabelFromOption","preState","oldOptionsInfo"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd/node_modules/rc-select/es/Select.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option'; // Where el is the DOM element you'd like to test for visibility\n\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\n\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        _this.setInputValue('', false);\n\n        return;\n      }\n\n      _this.setInputValue(val);\n\n      _this.setState({\n        open: true\n      });\n\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n\n        _this.timeoutFocus();\n\n        _this._focused = true;\n\n        _this.updateFocusClassName();\n      }\n\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n\n          event.preventDefault();\n        }\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          combobox = _this$props.combobox,\n          defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = _this.state;\n\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n\n      _this.fireSelect(selectedValue);\n\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = ReactDOM.findDOMNode(item); // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n\n        if (!isHidden(menuItemDomNode)) {\n          _this.removeSelected(getValuePropValue(item));\n        }\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n\n      var props = _this.props;\n\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n\n      var inputNode = _this.getInputDOMNode();\n\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n\n      if (_this._focused) {\n        return;\n      }\n\n      _this._focused = true;\n\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n\n        _this.updateFocusClassName();\n\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n\n          _this._mouseDown = false;\n          return;\n        }\n\n        _this.setOpenState(false);\n\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n          option = _this$getOptionInfoBy.option;\n\n      return option;\n    };\n\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    };\n\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n\n      return vls;\n    };\n\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _this$getOptionInfoBy2.label;\n\n      return label;\n    };\n\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n\n      return _this.dropdownContainer;\n    };\n\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n\n      if (state.inputValue) {\n        hidden = true;\n      }\n\n      var value = state.value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n\n      return null;\n    };\n\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n\n        return;\n      }\n\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    };\n\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n\n      var filterFn = _this.props.filterOption;\n\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n\n          _this._focused = true;\n        }\n      }\n    };\n\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n\n      _this.fireChange(value);\n    };\n\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n\n    _this.fireChange = function (value) {\n      var props = _this.props;\n\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n\n      var vls = _this.getVLForOnChange(value);\n\n      var options = _this.getOptionsBySingleValue(value);\n\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          tags = _this$props3.tags,\n          notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n\n        var type = child.type;\n\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n\n          return;\n        }\n\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          showSearch = props.showSearch,\n          removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n              label = _this$getOptionInfoBy3.label,\n              title = _this$getOptionInfoBy3.title;\n\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n\n            var disabled = _this.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n          _this$props4$showArro = _this$props4.showArrow,\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n          loading = _this$props4.loading,\n          inputIcon = _this$props4.inputIcon,\n          prefixCls = _this$props4.prefixCls;\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          allowClear = _this$props5.allowClear,\n          clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n          disabled = props.disabled,\n          prefixCls = props.prefixCls,\n          loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n          open = _this$state2.open,\n          ariaId = _this$state2.ariaId;\n\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends(_extends({}, extraSelectionProps), {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\n\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n\n  if (nextProps.disabled && prevState.open) {\n    newState.open = false;\n  }\n\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n\n  return newState;\n};\n\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n\n    var type = child.type;\n\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\n\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n\n  var label = value;\n\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n\n  if (label === undefined) {\n    label = '';\n  }\n\n  return label;\n};\n\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\n\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n\n  return optionsInfo;\n};\n\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n\n  return value;\n};\n\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}