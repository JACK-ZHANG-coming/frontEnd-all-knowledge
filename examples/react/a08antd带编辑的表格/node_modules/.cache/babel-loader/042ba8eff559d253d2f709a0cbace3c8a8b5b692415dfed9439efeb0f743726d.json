{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule setDraftEditorSelection\n * @format\n * \n */\n\n'use strict';\n\nvar DraftJsDebugLogging = require('./DraftJsDebugLogging');\nvar containsNode = require('fbjs/lib/containsNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\nvar invariant = require('fbjs/lib/invariant');\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n  !(anonymized instanceof Element) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  return anonymized.outerHTML;\n}\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return document.createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n  var clone = node.cloneNode();\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n  var childNodes = node.childNodes;\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n  return clone;\n}\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node;\n  while (currentNode) {\n    if (currentNode instanceof Element && currentNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n  return 'Could not find contentEditable parent of node';\n}\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  if (!containsNode(document.documentElement, node)) {\n    return;\n  }\n  var selection = global.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward();\n\n  // IE doesn't support backward selection. Swap key/offset pairs.\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset;\n\n  // If the selection is entirely bound within this node, set the selection\n  // and be done.\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    }\n\n    // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n\n    // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n\n/**\n * Extend selection towards focus point.\n */\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  if (selection.extend && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({\n          offset: offset\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    }\n\n    // logging to catch bug that is being reported in t18110632\n    var nodeWasFocus = node === selection.focusNode;\n    try {\n      selection.extend(node, offset);\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      });\n      // allow the error to be thrown -\n      // better than continuing in a broken state\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    var range = selection.getRangeAt(0);\n    range.setEnd(node, offset);\n    selection.addRange(range.cloneRange());\n  }\n}\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = document.createRange();\n  // logging to catch bug that is being reported in t16250795\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({\n        offset: offset\n      }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n  }\n  range.setStart(node, offset);\n  selection.addRange(range);\n}\nmodule.exports = setDraftEditorSelection;","map":{"version":3,"names":["DraftJsDebugLogging","require","containsNode","getActiveElement","invariant","getAnonymizedDOM","node","getNodeLabels","anonymized","anonymizeTextWithin","nodeType","Node","TEXT_NODE","textContent","Element","process","env","NODE_ENV","outerHTML","labels","undefined","length","document","createTextNode","join","clone","cloneNode","setAttribute","childNodes","ii","appendChild","getAnonymizedEditorDOM","currentNode","hasAttribute","parentNode","getNodeLength","nodeValue","setDraftEditorSelection","selectionState","blockKey","nodeStart","nodeEnd","documentElement","selection","global","getSelection","anchorKey","getAnchorKey","anchorOffset","getAnchorOffset","focusKey","getFocusKey","focusOffset","getFocusOffset","isBackward","getIsBackward","extend","tempKey","tempOffset","hasAnchor","hasFocus","removeAllRanges","addPointToSelection","addFocusToSelection","storedFocusNode","focusNode","storedFocusOffset","offset","activeElement","logSelectionStateFailure","anonymizedDom","extraParams","JSON","stringify","toJS","nodeWasFocus","e","n","push","anchorNode","activeElementName","nodeName","nodeIsFocus","selectionRangeCount","rangeCount","selectionAnchorNodeName","selectionAnchorOffset","selectionFocusNodeName","selectionFocusOffset","message","range","getRangeAt","setEnd","addRange","cloneRange","createRange","setStart","module","exports"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-core/node_modules/draft-js/lib/setDraftEditorSelection.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule setDraftEditorSelection\n * @format\n * \n */\n\n'use strict';\n\nvar DraftJsDebugLogging = require('./DraftJsDebugLogging');\n\nvar containsNode = require('fbjs/lib/containsNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n\n  !(anonymized instanceof Element) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  return anonymized.outerHTML;\n}\n\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return document.createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n\n  var clone = node.cloneNode();\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n  var childNodes = node.childNodes;\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n\n  return clone;\n}\n\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node;\n  while (currentNode) {\n    if (currentNode instanceof Element && currentNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n  return 'Could not find contentEditable parent of node';\n}\n\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  if (!containsNode(document.documentElement, node)) {\n    return;\n  }\n\n  var selection = global.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward();\n\n  // IE doesn't support backward selection. Swap key/offset pairs.\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset;\n\n  // If the selection is entirely bound within this node, set the selection\n  // and be done.\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    }\n\n    // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n\n    // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n\n/**\n * Extend selection towards focus point.\n */\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  if (selection.extend && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({ offset: offset }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    }\n\n    // logging to catch bug that is being reported in t18110632\n    var nodeWasFocus = node === selection.focusNode;\n    try {\n      selection.extend(node, offset);\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      });\n      // allow the error to be thrown -\n      // better than continuing in a broken state\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    var range = selection.getRangeAt(0);\n    range.setEnd(node, offset);\n    selection.addRange(range.cloneRange());\n  }\n}\n\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = document.createRange();\n  // logging to catch bug that is being reported in t16250795\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({ offset: offset }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n  }\n  range.setStart(node, offset);\n  selection.addRange(range);\n}\n\nmodule.exports = setDraftEditorSelection;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}