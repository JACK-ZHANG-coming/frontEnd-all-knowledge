{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar _util = require('./util');\nvar _validator = require('./validator/');\nvar _validator2 = _interopRequireDefault(_validator);\nvar _messages2 = require('./messages');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\nfunction Schema(descriptor) {\n  this.rules = null;\n  this._messages = _messages2.messages;\n  this.define(descriptor);\n}\nSchema.prototype = {\n  messages: function messages(_messages) {\n    if (_messages) {\n      this._messages = (0, _util.deepMerge)((0, _messages2.newMessages)(), _messages);\n    }\n    return this._messages;\n  },\n  define: function define(rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n    if ((typeof rules === 'undefined' ? 'undefined' : _typeof(rules)) !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n    this.rules = {};\n    var z = void 0;\n    var item = void 0;\n    for (z in rules) {\n      if (rules.hasOwnProperty(z)) {\n        item = rules[z];\n        this.rules[z] = Array.isArray(item) ? item : [item];\n      }\n    }\n  },\n  validate: function validate(source_) {\n    var _this = this;\n    var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var oc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n    var source = source_;\n    var options = o;\n    var callback = oc;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback();\n      }\n      return Promise.resolve();\n    }\n    function complete(results) {\n      var i = void 0;\n      var errors = [];\n      var fields = {};\n      function add(e) {\n        if (Array.isArray(e)) {\n          var _errors;\n          errors = (_errors = errors).concat.apply(_errors, e);\n        } else {\n          errors.push(e);\n        }\n      }\n      for (i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n      if (!errors.length) {\n        errors = null;\n        fields = null;\n      } else {\n        fields = (0, _util.convertFieldsError)(errors);\n      }\n      callback(errors, fields);\n    }\n    if (options.messages) {\n      var messages = this.messages();\n      if (messages === _messages2.messages) {\n        messages = (0, _messages2.newMessages)();\n      }\n      (0, _util.deepMerge)(messages, options.messages);\n      options.messages = messages;\n    } else {\n      options.messages = this.messages();\n    }\n    var arr = void 0;\n    var value = void 0;\n    var series = {};\n    var keys = options.keys || Object.keys(this.rules);\n    keys.forEach(function (z) {\n      arr = _this.rules[z];\n      value = source[z];\n      arr.forEach(function (r) {\n        var rule = r;\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = _extends({}, source);\n          }\n          value = source[z] = rule.transform(value);\n        }\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule\n          };\n        } else {\n          rule = _extends({}, rule);\n        }\n        rule.validator = _this.getValidationMethod(rule);\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = _this.getType(rule);\n        if (!rule.validator) {\n          return;\n        }\n        series[z] = series[z] || [];\n        series[z].push({\n          rule: rule,\n          value: value,\n          source: source,\n          field: z\n        });\n      });\n    });\n    var errorFields = {};\n    return (0, _util.asyncMap)(series, options, function (data, doIt) {\n      var rule = data.rule;\n      var deep = (rule.type === 'object' || rule.type === 'array') && (_typeof(rule.fields) === 'object' || _typeof(rule.defaultField) === 'object');\n      deep = deep && (rule.required || !rule.required && data.value);\n      rule.field = data.field;\n      function addFullfield(key, schema) {\n        return _extends({}, schema, {\n          fullField: rule.fullField + '.' + key\n        });\n      }\n      function cb() {\n        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var errors = e;\n        if (!Array.isArray(errors)) {\n          errors = [errors];\n        }\n        if (!options.suppressWarning && errors.length) {\n          Schema.warning('async-validator:', errors);\n        }\n        if (errors.length && rule.message) {\n          errors = [].concat(rule.message);\n        }\n        errors = errors.map((0, _util.complementError)(rule));\n        if (options.first && errors.length) {\n          errorFields[rule.field] = 1;\n          return doIt(errors);\n        }\n        if (!deep) {\n          doIt(errors);\n        } else {\n          // if rule is required but the target object\n          // does not exist fail at the rule level and don't\n          // go deeper\n          if (rule.required && !data.value) {\n            if (rule.message) {\n              errors = [].concat(rule.message).map((0, _util.complementError)(rule));\n            } else if (options.error) {\n              errors = [options.error(rule, (0, _util.format)(options.messages.required, rule.field))];\n            } else {\n              errors = [];\n            }\n            return doIt(errors);\n          }\n          var fieldsSchema = {};\n          if (rule.defaultField) {\n            for (var k in data.value) {\n              if (data.value.hasOwnProperty(k)) {\n                fieldsSchema[k] = rule.defaultField;\n              }\n            }\n          }\n          fieldsSchema = _extends({}, fieldsSchema, data.rule.fields);\n          for (var f in fieldsSchema) {\n            if (fieldsSchema.hasOwnProperty(f)) {\n              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];\n              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));\n            }\n          }\n          var schema = new Schema(fieldsSchema);\n          schema.messages(options.messages);\n          if (data.rule.options) {\n            data.rule.options.messages = options.messages;\n            data.rule.options.error = options.error;\n          }\n          schema.validate(data.value, data.rule.options || options, function (errs) {\n            var finalErrors = [];\n            if (errors && errors.length) {\n              finalErrors.push.apply(finalErrors, errors);\n            }\n            if (errs && errs.length) {\n              finalErrors.push.apply(finalErrors, errs);\n            }\n            doIt(finalErrors.length ? finalErrors : null);\n          });\n        }\n      }\n      var res = void 0;\n      if (rule.asyncValidator) {\n        res = rule.asyncValidator(rule, data.value, cb, data.source, options);\n      } else if (rule.validator) {\n        res = rule.validator(rule, data.value, cb, data.source, options);\n        if (res === true) {\n          cb();\n        } else if (res === false) {\n          cb(rule.message || rule.field + ' fails');\n        } else if (res instanceof Array) {\n          cb(res);\n        } else if (res instanceof Error) {\n          cb(res.message);\n        }\n      }\n      if (res && res.then) {\n        res.then(function () {\n          return cb();\n        }, function (e) {\n          return cb(e);\n        });\n      }\n    }, function (results) {\n      complete(results);\n    });\n  },\n  getType: function getType(rule) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n    if (typeof rule.validator !== 'function' && rule.type && !_validator2['default'].hasOwnProperty(rule.type)) {\n      throw new Error((0, _util.format)('Unknown rule type %s', rule.type));\n    }\n    return rule.type || 'string';\n  },\n  getValidationMethod: function getValidationMethod(rule) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n    var keys = Object.keys(rule);\n    var messageIndex = keys.indexOf('message');\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n    if (keys.length === 1 && keys[0] === 'required') {\n      return _validator2['default'].required;\n    }\n    return _validator2['default'][this.getType(rule)] || false;\n  }\n};\nSchema.register = function register(type, validator) {\n  if (typeof validator !== 'function') {\n    throw new Error('Cannot register a validator by type, validator is not a function');\n  }\n  _validator2['default'][type] = validator;\n};\nSchema.warning = _util.warning;\nSchema.messages = _messages2.messages;\nexports['default'] = Schema;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","_util","require","_validator","_validator2","_interopRequireDefault","_messages2","__esModule","Schema","descriptor","rules","_messages","messages","define","deepMerge","newMessages","Error","Array","isArray","z","item","validate","source_","_this","o","undefined","oc","options","callback","keys","Promise","resolve","complete","results","errors","fields","add","e","_errors","concat","apply","push","convertFieldsError","arr","series","forEach","r","rule","transform","validator","getValidationMethod","field","fullField","type","getType","errorFields","asyncMap","data","doIt","deep","defaultField","required","addFullfield","schema","cb","suppressWarning","warning","message","map","complementError","first","error","format","fieldsSchema","k","f","fieldSchema","bind","errs","finalErrors","res","asyncValidator","then","pattern","RegExp","messageIndex","indexOf","splice","register"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/async-validator/es/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _util = require('./util');\n\nvar _validator = require('./validator/');\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _messages2 = require('./messages');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\nfunction Schema(descriptor) {\n  this.rules = null;\n  this._messages = _messages2.messages;\n  this.define(descriptor);\n}\n\nSchema.prototype = {\n  messages: function messages(_messages) {\n    if (_messages) {\n      this._messages = (0, _util.deepMerge)((0, _messages2.newMessages)(), _messages);\n    }\n    return this._messages;\n  },\n  define: function define(rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n    if ((typeof rules === 'undefined' ? 'undefined' : _typeof(rules)) !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n    this.rules = {};\n    var z = void 0;\n    var item = void 0;\n    for (z in rules) {\n      if (rules.hasOwnProperty(z)) {\n        item = rules[z];\n        this.rules[z] = Array.isArray(item) ? item : [item];\n      }\n    }\n  },\n  validate: function validate(source_) {\n    var _this = this;\n\n    var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var oc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n    var source = source_;\n    var options = o;\n    var callback = oc;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback();\n      }\n      return Promise.resolve();\n    }\n\n    function complete(results) {\n      var i = void 0;\n      var errors = [];\n      var fields = {};\n\n      function add(e) {\n        if (Array.isArray(e)) {\n          var _errors;\n\n          errors = (_errors = errors).concat.apply(_errors, e);\n        } else {\n          errors.push(e);\n        }\n      }\n\n      for (i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n      if (!errors.length) {\n        errors = null;\n        fields = null;\n      } else {\n        fields = (0, _util.convertFieldsError)(errors);\n      }\n      callback(errors, fields);\n    }\n\n    if (options.messages) {\n      var messages = this.messages();\n      if (messages === _messages2.messages) {\n        messages = (0, _messages2.newMessages)();\n      }\n      (0, _util.deepMerge)(messages, options.messages);\n      options.messages = messages;\n    } else {\n      options.messages = this.messages();\n    }\n    var arr = void 0;\n    var value = void 0;\n    var series = {};\n    var keys = options.keys || Object.keys(this.rules);\n    keys.forEach(function (z) {\n      arr = _this.rules[z];\n      value = source[z];\n      arr.forEach(function (r) {\n        var rule = r;\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = _extends({}, source);\n          }\n          value = source[z] = rule.transform(value);\n        }\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule\n          };\n        } else {\n          rule = _extends({}, rule);\n        }\n        rule.validator = _this.getValidationMethod(rule);\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = _this.getType(rule);\n        if (!rule.validator) {\n          return;\n        }\n        series[z] = series[z] || [];\n        series[z].push({\n          rule: rule,\n          value: value,\n          source: source,\n          field: z\n        });\n      });\n    });\n    var errorFields = {};\n    return (0, _util.asyncMap)(series, options, function (data, doIt) {\n      var rule = data.rule;\n      var deep = (rule.type === 'object' || rule.type === 'array') && (_typeof(rule.fields) === 'object' || _typeof(rule.defaultField) === 'object');\n      deep = deep && (rule.required || !rule.required && data.value);\n      rule.field = data.field;\n\n      function addFullfield(key, schema) {\n        return _extends({}, schema, {\n          fullField: rule.fullField + '.' + key\n        });\n      }\n\n      function cb() {\n        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        var errors = e;\n        if (!Array.isArray(errors)) {\n          errors = [errors];\n        }\n        if (!options.suppressWarning && errors.length) {\n          Schema.warning('async-validator:', errors);\n        }\n        if (errors.length && rule.message) {\n          errors = [].concat(rule.message);\n        }\n\n        errors = errors.map((0, _util.complementError)(rule));\n\n        if (options.first && errors.length) {\n          errorFields[rule.field] = 1;\n          return doIt(errors);\n        }\n        if (!deep) {\n          doIt(errors);\n        } else {\n          // if rule is required but the target object\n          // does not exist fail at the rule level and don't\n          // go deeper\n          if (rule.required && !data.value) {\n            if (rule.message) {\n              errors = [].concat(rule.message).map((0, _util.complementError)(rule));\n            } else if (options.error) {\n              errors = [options.error(rule, (0, _util.format)(options.messages.required, rule.field))];\n            } else {\n              errors = [];\n            }\n            return doIt(errors);\n          }\n\n          var fieldsSchema = {};\n          if (rule.defaultField) {\n            for (var k in data.value) {\n              if (data.value.hasOwnProperty(k)) {\n                fieldsSchema[k] = rule.defaultField;\n              }\n            }\n          }\n          fieldsSchema = _extends({}, fieldsSchema, data.rule.fields);\n          for (var f in fieldsSchema) {\n            if (fieldsSchema.hasOwnProperty(f)) {\n              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];\n              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));\n            }\n          }\n          var schema = new Schema(fieldsSchema);\n          schema.messages(options.messages);\n          if (data.rule.options) {\n            data.rule.options.messages = options.messages;\n            data.rule.options.error = options.error;\n          }\n          schema.validate(data.value, data.rule.options || options, function (errs) {\n            var finalErrors = [];\n            if (errors && errors.length) {\n              finalErrors.push.apply(finalErrors, errors);\n            }\n            if (errs && errs.length) {\n              finalErrors.push.apply(finalErrors, errs);\n            }\n            doIt(finalErrors.length ? finalErrors : null);\n          });\n        }\n      }\n\n      var res = void 0;\n      if (rule.asyncValidator) {\n        res = rule.asyncValidator(rule, data.value, cb, data.source, options);\n      } else if (rule.validator) {\n        res = rule.validator(rule, data.value, cb, data.source, options);\n        if (res === true) {\n          cb();\n        } else if (res === false) {\n          cb(rule.message || rule.field + ' fails');\n        } else if (res instanceof Array) {\n          cb(res);\n        } else if (res instanceof Error) {\n          cb(res.message);\n        }\n      }\n      if (res && res.then) {\n        res.then(function () {\n          return cb();\n        }, function (e) {\n          return cb(e);\n        });\n      }\n    }, function (results) {\n      complete(results);\n    });\n  },\n  getType: function getType(rule) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n    if (typeof rule.validator !== 'function' && rule.type && !_validator2['default'].hasOwnProperty(rule.type)) {\n      throw new Error((0, _util.format)('Unknown rule type %s', rule.type));\n    }\n    return rule.type || 'string';\n  },\n  getValidationMethod: function getValidationMethod(rule) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n    var keys = Object.keys(rule);\n    var messageIndex = keys.indexOf('message');\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n    if (keys.length === 1 && keys[0] === 'required') {\n      return _validator2['default'].required;\n    }\n    return _validator2['default'][this.getType(rule)] || false;\n  }\n};\n\nSchema.register = function register(type, validator) {\n  if (typeof validator !== 'function') {\n    throw new Error('Cannot register a validator by type, validator is not a function');\n  }\n  _validator2['default'][type] = validator;\n};\n\nSchema.warning = _util.warning;\n\nSchema.messages = _messages2.messages;\n\nexports['default'] = Schema;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}