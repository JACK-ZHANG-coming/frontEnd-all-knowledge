{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n    _classCallCheck(this, SuggestionPortal);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n        suggestionRegex = props.suggestionRegex,\n        decoratedText = props.decoratedText;\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n      _this.updatePortalPosition(_this.props);\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n    this.updatePortalPosition(nextProps);\n  };\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n      offsetKey = _props.offsetKey,\n      mentionStore = _props.mentionStore;\n    mentionStore.inActiveSuggestion({\n      offsetKey: offsetKey\n    });\n  };\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n    var offsetKey = props.offsetKey,\n      mentionStore = props.mentionStore;\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n    return React.createElement('span', {\n      ref: function ref(node) {\n        _this3.searchPortal = node;\n      },\n      style: this.props.style\n    }, this.props.children);\n  };\n  return SuggestionPortal;\n}(React.Component);\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;","map":{"version":3,"names":["_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","getOffset","SuggestionPortal","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","matchDecorates","props","callbacks","suggestionRegex","decoratedText","matches","exec","trigger","updatePortalPosition","setEditorState","getEditorState","prototype","componentWillMount","componentWillReceiveProps","nextProps","componentWillUnmount","_props","offsetKey","mentionStore","inActiveSuggestion","_this2","updateSuggestion","position","element","searchPortal","rect","left","top","width","offsetWidth","height","offsetHeight","render","_this3","createElement","ref","node","style","children","Component","propTypes","any","object","string"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-mention/es/component/SuggestionPortal.react.js"],"sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\n\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SuggestionPortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n          suggestionRegex = props.suggestionRegex,\n          decoratedText = props.decoratedText;\n\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n      _this.updatePortalPosition(_this.props);\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n    this.updatePortalPosition(nextProps);\n  };\n\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        offsetKey = _props.offsetKey,\n        mentionStore = _props.mentionStore;\n\n    mentionStore.inActiveSuggestion({ offsetKey: offsetKey });\n  };\n\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n\n    var offsetKey = props.offsetKey,\n        mentionStore = props.mentionStore;\n\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n\n    return React.createElement(\n      'span',\n      { ref: function ref(node) {\n          _this3.searchPortal = node;\n        }, style: this.props.style },\n      this.props.children\n    );\n  };\n\n  return SuggestionPortal;\n}(React.Component);\n\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}