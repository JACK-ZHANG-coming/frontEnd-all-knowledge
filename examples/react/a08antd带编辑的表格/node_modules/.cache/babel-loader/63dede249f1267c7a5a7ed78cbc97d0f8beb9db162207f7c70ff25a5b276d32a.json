{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\n/* eslint-disable react/prefer-es6-class */\n/* eslint-disable prefer-promise-reject-errors */\n\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport AsyncValidator from 'async-validator';\nimport warning from 'warning';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\nimport eq from 'lodash/eq';\nimport createFieldsStore from './createFieldsStore';\nimport { argumentContainer, identity, normalizeValidateRules, getValidateTriggers, getValueFromEvent, hasRules, getParams, isEmptyObject, flattenArray, supportRef } from './utils';\nimport FieldElemWrapper from './FieldElemWrapper';\nvar DEFAULT_TRIGGER = 'onChange';\nfunction createBaseForm() {\n  var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var mixins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var validateMessages = option.validateMessages,\n    onFieldsChange = option.onFieldsChange,\n    onValuesChange = option.onValuesChange,\n    _option$mapProps = option.mapProps,\n    mapProps = _option$mapProps === undefined ? identity : _option$mapProps,\n    mapPropsToFields = option.mapPropsToFields,\n    fieldNameProp = option.fieldNameProp,\n    fieldMetaProp = option.fieldMetaProp,\n    fieldDataProp = option.fieldDataProp,\n    _option$formPropName = option.formPropName,\n    formPropName = _option$formPropName === undefined ? 'form' : _option$formPropName,\n    formName = option.name,\n    withRef = option.withRef;\n  return function decorate(WrappedComponent) {\n    var Form = createReactClass({\n      displayName: 'Form',\n      mixins: mixins,\n      getInitialState: function getInitialState() {\n        var _this = this;\n        var fields = mapPropsToFields && mapPropsToFields(this.props);\n        this.fieldsStore = createFieldsStore(fields || {});\n        this.instances = {};\n        this.cachedBind = {};\n        this.clearedFieldMetaCache = {};\n        this.renderFields = {};\n        this.domFields = {};\n\n        // HACK: https://github.com/ant-design/ant-design/issues/6406\n        ['getFieldsValue', 'getFieldValue', 'setFieldsInitialValue', 'getFieldsError', 'getFieldError', 'isFieldValidating', 'isFieldsValidating', 'isFieldsTouched', 'isFieldTouched'].forEach(function (key) {\n          _this[key] = function () {\n            var _fieldsStore;\n            if (process.env.NODE_ENV !== 'production') {\n              warning(false, 'you should not use `ref` on enhanced form, please use `wrappedComponentRef`. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n            }\n            return (_fieldsStore = _this.fieldsStore)[key].apply(_fieldsStore, arguments);\n          };\n        });\n        return {\n          submitting: false\n        };\n      },\n      componentDidMount: function componentDidMount() {\n        this.cleanUpUselessFields();\n      },\n      componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n        if (mapPropsToFields) {\n          this.fieldsStore.updateFields(mapPropsToFields(nextProps));\n        }\n      },\n      componentDidUpdate: function componentDidUpdate() {\n        this.cleanUpUselessFields();\n      },\n      onCollectCommon: function onCollectCommon(name, action, args) {\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta[action]) {\n          fieldMeta[action].apply(fieldMeta, _toConsumableArray(args));\n        } else if (fieldMeta.originalProps && fieldMeta.originalProps[action]) {\n          var _fieldMeta$originalPr;\n          (_fieldMeta$originalPr = fieldMeta.originalProps)[action].apply(_fieldMeta$originalPr, _toConsumableArray(args));\n        }\n        var value = fieldMeta.getValueFromEvent ? fieldMeta.getValueFromEvent.apply(fieldMeta, _toConsumableArray(args)) : getValueFromEvent.apply(undefined, _toConsumableArray(args));\n        if (onValuesChange && value !== this.fieldsStore.getFieldValue(name)) {\n          var valuesAll = this.fieldsStore.getAllValues();\n          var valuesAllSet = {};\n          valuesAll[name] = value;\n          Object.keys(valuesAll).forEach(function (key) {\n            return set(valuesAllSet, key, valuesAll[key]);\n          });\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), set({}, name, value), valuesAllSet);\n        }\n        var field = this.fieldsStore.getField(name);\n        return {\n          name: name,\n          field: _extends({}, field, {\n            value: value,\n            touched: true\n          }),\n          fieldMeta: fieldMeta\n        };\n      },\n      onCollect: function onCollect(name_, action) {\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n        var _onCollectCommon = this.onCollectCommon(name_, action, args),\n          name = _onCollectCommon.name,\n          field = _onCollectCommon.field,\n          fieldMeta = _onCollectCommon.fieldMeta;\n        var validate = fieldMeta.validate;\n        this.fieldsStore.setFieldsAsDirty();\n        var newField = _extends({}, field, {\n          dirty: hasRules(validate)\n        });\n        this.setFields(_defineProperty({}, name, newField));\n      },\n      onCollectValidate: function onCollectValidate(name_, action) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n        var _onCollectCommon2 = this.onCollectCommon(name_, action, args),\n          field = _onCollectCommon2.field,\n          fieldMeta = _onCollectCommon2.fieldMeta;\n        var newField = _extends({}, field, {\n          dirty: true\n        });\n        this.fieldsStore.setFieldsAsDirty();\n        this.validateFieldsInternal([newField], {\n          action: action,\n          options: {\n            firstFields: !!fieldMeta.validateFirst\n          }\n        });\n      },\n      getCacheBind: function getCacheBind(name, action, fn) {\n        if (!this.cachedBind[name]) {\n          this.cachedBind[name] = {};\n        }\n        var cache = this.cachedBind[name];\n        if (!cache[action] || cache[action].oriFn !== fn) {\n          cache[action] = {\n            fn: fn.bind(this, name, action),\n            oriFn: fn\n          };\n        }\n        return cache[action].fn;\n      },\n      getFieldDecorator: function getFieldDecorator(name, fieldOption) {\n        var _this2 = this;\n        var props = this.getFieldProps(name, fieldOption);\n        return function (fieldElem) {\n          // We should put field in record if it is rendered\n          _this2.renderFields[name] = true;\n          var fieldMeta = _this2.fieldsStore.getFieldMeta(name);\n          var originalProps = fieldElem.props;\n          if (process.env.NODE_ENV !== 'production') {\n            var valuePropName = fieldMeta.valuePropName;\n            warning(!(valuePropName in originalProps), '`getFieldDecorator` will override `' + valuePropName + '`, ' + ('so please don\\'t set `' + valuePropName + '` directly ') + 'and use `setFieldsValue` to set it.');\n            var defaultValuePropName = 'default' + valuePropName[0].toUpperCase() + valuePropName.slice(1);\n            warning(!(defaultValuePropName in originalProps), '`' + defaultValuePropName + '` is invalid ' + ('for `getFieldDecorator` will set `' + valuePropName + '`,') + ' please use `option.initialValue` instead.');\n          }\n          fieldMeta.originalProps = originalProps;\n          fieldMeta.ref = fieldElem.ref;\n          var decoratedFieldElem = React.cloneElement(fieldElem, _extends({}, props, _this2.fieldsStore.getFieldValuePropValue(fieldMeta)));\n          return supportRef(fieldElem) ? decoratedFieldElem : React.createElement(FieldElemWrapper, {\n            name: name,\n            form: _this2\n          }, decoratedFieldElem);\n        };\n      },\n      getFieldProps: function getFieldProps(name) {\n        var _this3 = this;\n        var usersFieldOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (!name) {\n          throw new Error('Must call `getFieldProps` with valid name string!');\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          warning(this.fieldsStore.isValidNestedFieldName(name), 'One field name cannot be part of another, e.g. `a` and `a.b`. Check field: ' + name);\n          warning(!('exclusive' in usersFieldOption), '`option.exclusive` of `getFieldProps`|`getFieldDecorator` had been remove.');\n        }\n        delete this.clearedFieldMetaCache[name];\n        var fieldOption = _extends({\n          name: name,\n          trigger: DEFAULT_TRIGGER,\n          valuePropName: 'value',\n          validate: []\n        }, usersFieldOption);\n        var rules = fieldOption.rules,\n          trigger = fieldOption.trigger,\n          _fieldOption$validate = fieldOption.validateTrigger,\n          validateTrigger = _fieldOption$validate === undefined ? trigger : _fieldOption$validate,\n          validate = fieldOption.validate;\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if ('initialValue' in fieldOption) {\n          fieldMeta.initialValue = fieldOption.initialValue;\n        }\n        var inputProps = _extends({}, this.fieldsStore.getFieldValuePropValue(fieldOption), {\n          ref: this.getCacheBind(name, name + '__ref', this.saveRef)\n        });\n        if (fieldNameProp) {\n          inputProps[fieldNameProp] = formName ? formName + '_' + name : name;\n        }\n        var validateRules = normalizeValidateRules(validate, rules, validateTrigger);\n        var validateTriggers = getValidateTriggers(validateRules);\n        validateTriggers.forEach(function (action) {\n          if (inputProps[action]) return;\n          inputProps[action] = _this3.getCacheBind(name, action, _this3.onCollectValidate);\n        });\n\n        // make sure that the value will be collect\n        if (trigger && validateTriggers.indexOf(trigger) === -1) {\n          inputProps[trigger] = this.getCacheBind(name, trigger, this.onCollect);\n        }\n        var meta = _extends({}, fieldMeta, fieldOption, {\n          validate: validateRules\n        });\n        this.fieldsStore.setFieldMeta(name, meta);\n        if (fieldMetaProp) {\n          inputProps[fieldMetaProp] = meta;\n        }\n        if (fieldDataProp) {\n          inputProps[fieldDataProp] = this.fieldsStore.getField(name);\n        }\n\n        // This field is rendered, record it\n        this.renderFields[name] = true;\n        return inputProps;\n      },\n      getFieldInstance: function getFieldInstance(name) {\n        return this.instances[name];\n      },\n      getRules: function getRules(fieldMeta, action) {\n        var actionRules = fieldMeta.validate.filter(function (item) {\n          return !action || item.trigger.indexOf(action) >= 0;\n        }).map(function (item) {\n          return item.rules;\n        });\n        return flattenArray(actionRules);\n      },\n      setFields: function setFields(maybeNestedFields, callback) {\n        var _this4 = this;\n        var fields = this.fieldsStore.flattenRegisteredFields(maybeNestedFields);\n        this.fieldsStore.setFields(fields);\n        if (onFieldsChange) {\n          var changedFields = Object.keys(fields).reduce(function (acc, name) {\n            return set(acc, name, _this4.fieldsStore.getField(name));\n          }, {});\n          onFieldsChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedFields, this.fieldsStore.getNestedAllFields());\n        }\n        this.forceUpdate(callback);\n      },\n      setFieldsValue: function setFieldsValue(changedValues, callback) {\n        var fieldsMeta = this.fieldsStore.fieldsMeta;\n        var values = this.fieldsStore.flattenRegisteredFields(changedValues);\n        var newFields = Object.keys(values).reduce(function (acc, name) {\n          var isRegistered = fieldsMeta[name];\n          if (process.env.NODE_ENV !== 'production') {\n            warning(isRegistered, 'Cannot use `setFieldsValue` until ' + 'you use `getFieldDecorator` or `getFieldProps` to register it.');\n          }\n          if (isRegistered) {\n            var value = values[name];\n            acc[name] = {\n              value: value\n            };\n          }\n          return acc;\n        }, {});\n        this.setFields(newFields, callback);\n        if (onValuesChange) {\n          var allValues = this.fieldsStore.getAllValues();\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedValues, allValues);\n        }\n      },\n      saveRef: function saveRef(name, _, component) {\n        if (!component) {\n          var _fieldMeta = this.fieldsStore.getFieldMeta(name);\n          if (!_fieldMeta.preserve) {\n            // after destroy, delete data\n            this.clearedFieldMetaCache[name] = {\n              field: this.fieldsStore.getField(name),\n              meta: _fieldMeta\n            };\n            this.clearField(name);\n          }\n          delete this.domFields[name];\n          return;\n        }\n        this.domFields[name] = true;\n        this.recoverClearedField(name);\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta) {\n          var ref = fieldMeta.ref;\n          if (ref) {\n            if (typeof ref === 'string') {\n              throw new Error('can not set ref string for ' + name);\n            } else if (typeof ref === 'function') {\n              ref(component);\n            } else if (Object.prototype.hasOwnProperty.call(ref, 'current')) {\n              ref.current = component;\n            }\n          }\n        }\n        this.instances[name] = component;\n      },\n      cleanUpUselessFields: function cleanUpUselessFields() {\n        var _this5 = this;\n        var fieldList = this.fieldsStore.getAllFieldsName();\n        var removedList = fieldList.filter(function (field) {\n          var fieldMeta = _this5.fieldsStore.getFieldMeta(field);\n          return !_this5.renderFields[field] && !_this5.domFields[field] && !fieldMeta.preserve;\n        });\n        if (removedList.length) {\n          removedList.forEach(this.clearField);\n        }\n        this.renderFields = {};\n      },\n      clearField: function clearField(name) {\n        this.fieldsStore.clearField(name);\n        delete this.instances[name];\n        delete this.cachedBind[name];\n      },\n      resetFields: function resetFields(ns) {\n        var _this6 = this;\n        var newFields = this.fieldsStore.resetFields(ns);\n        if (Object.keys(newFields).length > 0) {\n          this.setFields(newFields);\n        }\n        if (ns) {\n          var names = Array.isArray(ns) ? ns : [ns];\n          names.forEach(function (name) {\n            return delete _this6.clearedFieldMetaCache[name];\n          });\n        } else {\n          this.clearedFieldMetaCache = {};\n        }\n      },\n      recoverClearedField: function recoverClearedField(name) {\n        if (this.clearedFieldMetaCache[name]) {\n          this.fieldsStore.setFields(_defineProperty({}, name, this.clearedFieldMetaCache[name].field));\n          this.fieldsStore.setFieldMeta(name, this.clearedFieldMetaCache[name].meta);\n          delete this.clearedFieldMetaCache[name];\n        }\n      },\n      validateFieldsInternal: function validateFieldsInternal(fields, _ref, callback) {\n        var _this7 = this;\n        var fieldNames = _ref.fieldNames,\n          action = _ref.action,\n          _ref$options = _ref.options,\n          options = _ref$options === undefined ? {} : _ref$options;\n        var allRules = {};\n        var allValues = {};\n        var allFields = {};\n        var alreadyErrors = {};\n        fields.forEach(function (field) {\n          var name = field.name;\n          if (options.force !== true && field.dirty === false) {\n            if (field.errors) {\n              set(alreadyErrors, name, {\n                errors: field.errors\n              });\n            }\n            return;\n          }\n          var fieldMeta = _this7.fieldsStore.getFieldMeta(name);\n          var newField = _extends({}, field);\n          newField.errors = undefined;\n          newField.validating = true;\n          newField.dirty = true;\n          allRules[name] = _this7.getRules(fieldMeta, action);\n          allValues[name] = newField.value;\n          allFields[name] = newField;\n        });\n        this.setFields(allFields);\n        // in case normalize\n        Object.keys(allValues).forEach(function (f) {\n          allValues[f] = _this7.fieldsStore.getFieldValue(f);\n        });\n        if (callback && isEmptyObject(allFields)) {\n          callback(isEmptyObject(alreadyErrors) ? null : alreadyErrors, this.fieldsStore.getFieldsValue(fieldNames));\n          return;\n        }\n        var validator = new AsyncValidator(allRules);\n        if (validateMessages) {\n          validator.messages(validateMessages);\n        }\n        validator.validate(allValues, options, function (errors) {\n          var errorsGroup = _extends({}, alreadyErrors);\n          if (errors && errors.length) {\n            errors.forEach(function (e) {\n              var errorFieldName = e.field;\n              var fieldName = errorFieldName;\n\n              // Handle using array validation rule.\n              // ref: https://github.com/ant-design/ant-design/issues/14275\n              Object.keys(allRules).some(function (ruleFieldName) {\n                var rules = allRules[ruleFieldName] || [];\n\n                // Exist if match rule\n                if (ruleFieldName === errorFieldName) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                // Skip if not match array type\n                if (rules.every(function (_ref2) {\n                  var type = _ref2.type;\n                  return type !== 'array';\n                }) || errorFieldName.indexOf(ruleFieldName + '.') !== 0) {\n                  return false;\n                }\n\n                // Exist if match the field name\n                var restPath = errorFieldName.slice(ruleFieldName.length + 1);\n                if (/^\\d+$/.test(restPath)) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n                return false;\n              });\n              var field = get(errorsGroup, fieldName);\n              if (typeof field !== 'object' || Array.isArray(field)) {\n                set(errorsGroup, fieldName, {\n                  errors: []\n                });\n              }\n              var fieldErrors = get(errorsGroup, fieldName.concat('.errors'));\n              fieldErrors.push(e);\n            });\n          }\n          var expired = [];\n          var nowAllFields = {};\n          Object.keys(allRules).forEach(function (name) {\n            var fieldErrors = get(errorsGroup, name);\n            var nowField = _this7.fieldsStore.getField(name);\n            // avoid concurrency problems\n            if (!eq(nowField.value, allValues[name])) {\n              expired.push({\n                name: name\n              });\n            } else {\n              nowField.errors = fieldErrors && fieldErrors.errors;\n              nowField.value = allValues[name];\n              nowField.validating = false;\n              nowField.dirty = false;\n              nowAllFields[name] = nowField;\n            }\n          });\n          _this7.setFields(nowAllFields);\n          if (callback) {\n            if (expired.length) {\n              expired.forEach(function (_ref3) {\n                var name = _ref3.name;\n                var fieldErrors = [{\n                  message: name + ' need to revalidate',\n                  field: name\n                }];\n                set(errorsGroup, name, {\n                  expired: true,\n                  errors: fieldErrors\n                });\n              });\n            }\n            callback(isEmptyObject(errorsGroup) ? null : errorsGroup, _this7.fieldsStore.getFieldsValue(fieldNames));\n          }\n        });\n      },\n      validateFields: function validateFields(ns, opt, cb) {\n        var _this8 = this;\n        var pending = new Promise(function (resolve, reject) {\n          var _getParams = getParams(ns, opt, cb),\n            names = _getParams.names,\n            options = _getParams.options;\n          var _getParams2 = getParams(ns, opt, cb),\n            callback = _getParams2.callback;\n          if (!callback || typeof callback === 'function') {\n            var oldCb = callback;\n            callback = function callback(errors, values) {\n              if (oldCb) {\n                oldCb(errors, values);\n              }\n              if (errors) {\n                reject({\n                  errors: errors,\n                  values: values\n                });\n              } else {\n                resolve(values);\n              }\n            };\n          }\n          var fieldNames = names ? _this8.fieldsStore.getValidFieldsFullName(names) : _this8.fieldsStore.getValidFieldsName();\n          var fields = fieldNames.filter(function (name) {\n            var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n            return hasRules(fieldMeta.validate);\n          }).map(function (name) {\n            var field = _this8.fieldsStore.getField(name);\n            field.value = _this8.fieldsStore.getFieldValue(name);\n            return field;\n          });\n          if (!fields.length) {\n            callback(null, _this8.fieldsStore.getFieldsValue(fieldNames));\n            return;\n          }\n          if (!('firstFields' in options)) {\n            options.firstFields = fieldNames.filter(function (name) {\n              var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n              return !!fieldMeta.validateFirst;\n            });\n          }\n          _this8.validateFieldsInternal(fields, {\n            fieldNames: fieldNames,\n            options: options\n          }, callback);\n        });\n        pending['catch'](function (e) {\n          // eslint-disable-next-line no-console\n          if (console.error && process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(e);\n          }\n          return e;\n        });\n        return pending;\n      },\n      isSubmitting: function isSubmitting() {\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`isSubmitting` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        return this.state.submitting;\n      },\n      submit: function submit(callback) {\n        var _this9 = this;\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`submit` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        var fn = function fn() {\n          _this9.setState({\n            submitting: false\n          });\n        };\n        this.setState({\n          submitting: true\n        });\n        callback(fn);\n      },\n      render: function render() {\n        var _props = this.props,\n          wrappedComponentRef = _props.wrappedComponentRef,\n          restProps = _objectWithoutProperties(_props, ['wrappedComponentRef']); // eslint-disable-line\n\n        var formProps = _defineProperty({}, formPropName, this.getForm());\n        if (withRef) {\n          if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n            warning(false, '`withRef` is deprecated, please use `wrappedComponentRef` instead. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n          }\n          formProps.ref = 'wrappedComponent';\n        } else if (wrappedComponentRef) {\n          formProps.ref = wrappedComponentRef;\n        }\n        var props = mapProps.call(this, _extends({}, formProps, restProps));\n        return React.createElement(WrappedComponent, props);\n      }\n    });\n    return argumentContainer(unsafeLifecyclesPolyfill(Form), WrappedComponent);\n  };\n}\nexport default createBaseForm;","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_extends","_toConsumableArray","React","createReactClass","unsafeLifecyclesPolyfill","AsyncValidator","warning","get","set","eq","createFieldsStore","argumentContainer","identity","normalizeValidateRules","getValidateTriggers","getValueFromEvent","hasRules","getParams","isEmptyObject","flattenArray","supportRef","FieldElemWrapper","DEFAULT_TRIGGER","createBaseForm","option","arguments","length","undefined","mixins","validateMessages","onFieldsChange","onValuesChange","_option$mapProps","mapProps","mapPropsToFields","fieldNameProp","fieldMetaProp","fieldDataProp","_option$formPropName","formPropName","formName","name","withRef","decorate","WrappedComponent","Form","displayName","getInitialState","_this","fields","props","fieldsStore","instances","cachedBind","clearedFieldMetaCache","renderFields","domFields","forEach","key","_fieldsStore","process","env","NODE_ENV","apply","submitting","componentDidMount","cleanUpUselessFields","componentWillReceiveProps","nextProps","updateFields","componentDidUpdate","onCollectCommon","action","args","fieldMeta","getFieldMeta","originalProps","_fieldMeta$originalPr","value","getFieldValue","valuesAll","getAllValues","valuesAllSet","Object","keys","getForm","field","getField","touched","onCollect","name_","_len","Array","_key","_onCollectCommon","validate","setFieldsAsDirty","newField","dirty","setFields","onCollectValidate","_len2","_key2","_onCollectCommon2","validateFieldsInternal","options","firstFields","validateFirst","getCacheBind","fn","cache","oriFn","bind","getFieldDecorator","fieldOption","_this2","getFieldProps","fieldElem","valuePropName","defaultValuePropName","toUpperCase","slice","ref","decoratedFieldElem","cloneElement","getFieldValuePropValue","createElement","form","_this3","usersFieldOption","Error","isValidNestedFieldName","trigger","rules","_fieldOption$validate","validateTrigger","initialValue","inputProps","saveRef","validateRules","validateTriggers","indexOf","meta","setFieldMeta","getFieldInstance","getRules","actionRules","filter","item","map","maybeNestedFields","callback","_this4","flattenRegisteredFields","changedFields","reduce","acc","getNestedAllFields","forceUpdate","setFieldsValue","changedValues","fieldsMeta","values","newFields","isRegistered","allValues","_","component","_fieldMeta","preserve","clearField","recoverClearedField","prototype","hasOwnProperty","call","current","_this5","fieldList","getAllFieldsName","removedList","resetFields","ns","_this6","names","isArray","_ref","_this7","fieldNames","_ref$options","allRules","allFields","alreadyErrors","force","errors","validating","f","getFieldsValue","validator","messages","errorsGroup","e","errorFieldName","fieldName","some","ruleFieldName","every","_ref2","type","restPath","test","fieldErrors","concat","push","expired","nowAllFields","nowField","_ref3","message","validateFields","opt","cb","_this8","pending","Promise","resolve","reject","_getParams","_getParams2","oldCb","getValidFieldsFullName","getValidFieldsName","console","error","isSubmitting","state","submit","_this9","setState","render","_props","wrappedComponentRef","restProps","formProps"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-form/es/createBaseForm.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\n/* eslint-disable react/prefer-es6-class */\n/* eslint-disable prefer-promise-reject-errors */\n\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport AsyncValidator from 'async-validator';\nimport warning from 'warning';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\nimport eq from 'lodash/eq';\nimport createFieldsStore from './createFieldsStore';\nimport { argumentContainer, identity, normalizeValidateRules, getValidateTriggers, getValueFromEvent, hasRules, getParams, isEmptyObject, flattenArray, supportRef } from './utils';\nimport FieldElemWrapper from './FieldElemWrapper';\n\nvar DEFAULT_TRIGGER = 'onChange';\n\nfunction createBaseForm() {\n  var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var mixins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var validateMessages = option.validateMessages,\n      onFieldsChange = option.onFieldsChange,\n      onValuesChange = option.onValuesChange,\n      _option$mapProps = option.mapProps,\n      mapProps = _option$mapProps === undefined ? identity : _option$mapProps,\n      mapPropsToFields = option.mapPropsToFields,\n      fieldNameProp = option.fieldNameProp,\n      fieldMetaProp = option.fieldMetaProp,\n      fieldDataProp = option.fieldDataProp,\n      _option$formPropName = option.formPropName,\n      formPropName = _option$formPropName === undefined ? 'form' : _option$formPropName,\n      formName = option.name,\n      withRef = option.withRef;\n\n\n  return function decorate(WrappedComponent) {\n    var Form = createReactClass({\n      displayName: 'Form',\n\n      mixins: mixins,\n\n      getInitialState: function getInitialState() {\n        var _this = this;\n\n        var fields = mapPropsToFields && mapPropsToFields(this.props);\n        this.fieldsStore = createFieldsStore(fields || {});\n\n        this.instances = {};\n        this.cachedBind = {};\n        this.clearedFieldMetaCache = {};\n\n        this.renderFields = {};\n        this.domFields = {};\n\n        // HACK: https://github.com/ant-design/ant-design/issues/6406\n        ['getFieldsValue', 'getFieldValue', 'setFieldsInitialValue', 'getFieldsError', 'getFieldError', 'isFieldValidating', 'isFieldsValidating', 'isFieldsTouched', 'isFieldTouched'].forEach(function (key) {\n          _this[key] = function () {\n            var _fieldsStore;\n\n            if (process.env.NODE_ENV !== 'production') {\n              warning(false, 'you should not use `ref` on enhanced form, please use `wrappedComponentRef`. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n            }\n            return (_fieldsStore = _this.fieldsStore)[key].apply(_fieldsStore, arguments);\n          };\n        });\n\n        return {\n          submitting: false\n        };\n      },\n      componentDidMount: function componentDidMount() {\n        this.cleanUpUselessFields();\n      },\n      componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n        if (mapPropsToFields) {\n          this.fieldsStore.updateFields(mapPropsToFields(nextProps));\n        }\n      },\n      componentDidUpdate: function componentDidUpdate() {\n        this.cleanUpUselessFields();\n      },\n      onCollectCommon: function onCollectCommon(name, action, args) {\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta[action]) {\n          fieldMeta[action].apply(fieldMeta, _toConsumableArray(args));\n        } else if (fieldMeta.originalProps && fieldMeta.originalProps[action]) {\n          var _fieldMeta$originalPr;\n\n          (_fieldMeta$originalPr = fieldMeta.originalProps)[action].apply(_fieldMeta$originalPr, _toConsumableArray(args));\n        }\n        var value = fieldMeta.getValueFromEvent ? fieldMeta.getValueFromEvent.apply(fieldMeta, _toConsumableArray(args)) : getValueFromEvent.apply(undefined, _toConsumableArray(args));\n        if (onValuesChange && value !== this.fieldsStore.getFieldValue(name)) {\n          var valuesAll = this.fieldsStore.getAllValues();\n          var valuesAllSet = {};\n          valuesAll[name] = value;\n          Object.keys(valuesAll).forEach(function (key) {\n            return set(valuesAllSet, key, valuesAll[key]);\n          });\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), set({}, name, value), valuesAllSet);\n        }\n        var field = this.fieldsStore.getField(name);\n        return { name: name, field: _extends({}, field, { value: value, touched: true }), fieldMeta: fieldMeta };\n      },\n      onCollect: function onCollect(name_, action) {\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        var _onCollectCommon = this.onCollectCommon(name_, action, args),\n            name = _onCollectCommon.name,\n            field = _onCollectCommon.field,\n            fieldMeta = _onCollectCommon.fieldMeta;\n\n        var validate = fieldMeta.validate;\n\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        var newField = _extends({}, field, {\n          dirty: hasRules(validate)\n        });\n        this.setFields(_defineProperty({}, name, newField));\n      },\n      onCollectValidate: function onCollectValidate(name_, action) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        var _onCollectCommon2 = this.onCollectCommon(name_, action, args),\n            field = _onCollectCommon2.field,\n            fieldMeta = _onCollectCommon2.fieldMeta;\n\n        var newField = _extends({}, field, {\n          dirty: true\n        });\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        this.validateFieldsInternal([newField], {\n          action: action,\n          options: {\n            firstFields: !!fieldMeta.validateFirst\n          }\n        });\n      },\n      getCacheBind: function getCacheBind(name, action, fn) {\n        if (!this.cachedBind[name]) {\n          this.cachedBind[name] = {};\n        }\n        var cache = this.cachedBind[name];\n        if (!cache[action] || cache[action].oriFn !== fn) {\n          cache[action] = {\n            fn: fn.bind(this, name, action),\n            oriFn: fn\n          };\n        }\n        return cache[action].fn;\n      },\n      getFieldDecorator: function getFieldDecorator(name, fieldOption) {\n        var _this2 = this;\n\n        var props = this.getFieldProps(name, fieldOption);\n        return function (fieldElem) {\n          // We should put field in record if it is rendered\n          _this2.renderFields[name] = true;\n\n          var fieldMeta = _this2.fieldsStore.getFieldMeta(name);\n          var originalProps = fieldElem.props;\n          if (process.env.NODE_ENV !== 'production') {\n            var valuePropName = fieldMeta.valuePropName;\n            warning(!(valuePropName in originalProps), '`getFieldDecorator` will override `' + valuePropName + '`, ' + ('so please don\\'t set `' + valuePropName + '` directly ') + 'and use `setFieldsValue` to set it.');\n            var defaultValuePropName = 'default' + valuePropName[0].toUpperCase() + valuePropName.slice(1);\n            warning(!(defaultValuePropName in originalProps), '`' + defaultValuePropName + '` is invalid ' + ('for `getFieldDecorator` will set `' + valuePropName + '`,') + ' please use `option.initialValue` instead.');\n          }\n          fieldMeta.originalProps = originalProps;\n          fieldMeta.ref = fieldElem.ref;\n          var decoratedFieldElem = React.cloneElement(fieldElem, _extends({}, props, _this2.fieldsStore.getFieldValuePropValue(fieldMeta)));\n          return supportRef(fieldElem) ? decoratedFieldElem : React.createElement(\n            FieldElemWrapper,\n            { name: name, form: _this2 },\n            decoratedFieldElem\n          );\n        };\n      },\n      getFieldProps: function getFieldProps(name) {\n        var _this3 = this;\n\n        var usersFieldOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (!name) {\n          throw new Error('Must call `getFieldProps` with valid name string!');\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          warning(this.fieldsStore.isValidNestedFieldName(name), 'One field name cannot be part of another, e.g. `a` and `a.b`. Check field: ' + name);\n          warning(!('exclusive' in usersFieldOption), '`option.exclusive` of `getFieldProps`|`getFieldDecorator` had been remove.');\n        }\n\n        delete this.clearedFieldMetaCache[name];\n\n        var fieldOption = _extends({\n          name: name,\n          trigger: DEFAULT_TRIGGER,\n          valuePropName: 'value',\n          validate: []\n        }, usersFieldOption);\n\n        var rules = fieldOption.rules,\n            trigger = fieldOption.trigger,\n            _fieldOption$validate = fieldOption.validateTrigger,\n            validateTrigger = _fieldOption$validate === undefined ? trigger : _fieldOption$validate,\n            validate = fieldOption.validate;\n\n\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if ('initialValue' in fieldOption) {\n          fieldMeta.initialValue = fieldOption.initialValue;\n        }\n\n        var inputProps = _extends({}, this.fieldsStore.getFieldValuePropValue(fieldOption), {\n          ref: this.getCacheBind(name, name + '__ref', this.saveRef)\n        });\n        if (fieldNameProp) {\n          inputProps[fieldNameProp] = formName ? formName + '_' + name : name;\n        }\n\n        var validateRules = normalizeValidateRules(validate, rules, validateTrigger);\n        var validateTriggers = getValidateTriggers(validateRules);\n        validateTriggers.forEach(function (action) {\n          if (inputProps[action]) return;\n          inputProps[action] = _this3.getCacheBind(name, action, _this3.onCollectValidate);\n        });\n\n        // make sure that the value will be collect\n        if (trigger && validateTriggers.indexOf(trigger) === -1) {\n          inputProps[trigger] = this.getCacheBind(name, trigger, this.onCollect);\n        }\n\n        var meta = _extends({}, fieldMeta, fieldOption, {\n          validate: validateRules\n        });\n        this.fieldsStore.setFieldMeta(name, meta);\n        if (fieldMetaProp) {\n          inputProps[fieldMetaProp] = meta;\n        }\n\n        if (fieldDataProp) {\n          inputProps[fieldDataProp] = this.fieldsStore.getField(name);\n        }\n\n        // This field is rendered, record it\n        this.renderFields[name] = true;\n\n        return inputProps;\n      },\n      getFieldInstance: function getFieldInstance(name) {\n        return this.instances[name];\n      },\n      getRules: function getRules(fieldMeta, action) {\n        var actionRules = fieldMeta.validate.filter(function (item) {\n          return !action || item.trigger.indexOf(action) >= 0;\n        }).map(function (item) {\n          return item.rules;\n        });\n        return flattenArray(actionRules);\n      },\n      setFields: function setFields(maybeNestedFields, callback) {\n        var _this4 = this;\n\n        var fields = this.fieldsStore.flattenRegisteredFields(maybeNestedFields);\n        this.fieldsStore.setFields(fields);\n        if (onFieldsChange) {\n          var changedFields = Object.keys(fields).reduce(function (acc, name) {\n            return set(acc, name, _this4.fieldsStore.getField(name));\n          }, {});\n          onFieldsChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedFields, this.fieldsStore.getNestedAllFields());\n        }\n        this.forceUpdate(callback);\n      },\n      setFieldsValue: function setFieldsValue(changedValues, callback) {\n        var fieldsMeta = this.fieldsStore.fieldsMeta;\n\n        var values = this.fieldsStore.flattenRegisteredFields(changedValues);\n        var newFields = Object.keys(values).reduce(function (acc, name) {\n          var isRegistered = fieldsMeta[name];\n          if (process.env.NODE_ENV !== 'production') {\n            warning(isRegistered, 'Cannot use `setFieldsValue` until ' + 'you use `getFieldDecorator` or `getFieldProps` to register it.');\n          }\n          if (isRegistered) {\n            var value = values[name];\n            acc[name] = {\n              value: value\n            };\n          }\n          return acc;\n        }, {});\n        this.setFields(newFields, callback);\n        if (onValuesChange) {\n          var allValues = this.fieldsStore.getAllValues();\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedValues, allValues);\n        }\n      },\n      saveRef: function saveRef(name, _, component) {\n        if (!component) {\n          var _fieldMeta = this.fieldsStore.getFieldMeta(name);\n          if (!_fieldMeta.preserve) {\n            // after destroy, delete data\n            this.clearedFieldMetaCache[name] = {\n              field: this.fieldsStore.getField(name),\n              meta: _fieldMeta\n            };\n            this.clearField(name);\n          }\n          delete this.domFields[name];\n          return;\n        }\n        this.domFields[name] = true;\n        this.recoverClearedField(name);\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta) {\n          var ref = fieldMeta.ref;\n          if (ref) {\n            if (typeof ref === 'string') {\n              throw new Error('can not set ref string for ' + name);\n            } else if (typeof ref === 'function') {\n              ref(component);\n            } else if (Object.prototype.hasOwnProperty.call(ref, 'current')) {\n              ref.current = component;\n            }\n          }\n        }\n        this.instances[name] = component;\n      },\n      cleanUpUselessFields: function cleanUpUselessFields() {\n        var _this5 = this;\n\n        var fieldList = this.fieldsStore.getAllFieldsName();\n        var removedList = fieldList.filter(function (field) {\n          var fieldMeta = _this5.fieldsStore.getFieldMeta(field);\n          return !_this5.renderFields[field] && !_this5.domFields[field] && !fieldMeta.preserve;\n        });\n        if (removedList.length) {\n          removedList.forEach(this.clearField);\n        }\n        this.renderFields = {};\n      },\n      clearField: function clearField(name) {\n        this.fieldsStore.clearField(name);\n        delete this.instances[name];\n        delete this.cachedBind[name];\n      },\n      resetFields: function resetFields(ns) {\n        var _this6 = this;\n\n        var newFields = this.fieldsStore.resetFields(ns);\n        if (Object.keys(newFields).length > 0) {\n          this.setFields(newFields);\n        }\n        if (ns) {\n          var names = Array.isArray(ns) ? ns : [ns];\n          names.forEach(function (name) {\n            return delete _this6.clearedFieldMetaCache[name];\n          });\n        } else {\n          this.clearedFieldMetaCache = {};\n        }\n      },\n      recoverClearedField: function recoverClearedField(name) {\n        if (this.clearedFieldMetaCache[name]) {\n          this.fieldsStore.setFields(_defineProperty({}, name, this.clearedFieldMetaCache[name].field));\n          this.fieldsStore.setFieldMeta(name, this.clearedFieldMetaCache[name].meta);\n          delete this.clearedFieldMetaCache[name];\n        }\n      },\n      validateFieldsInternal: function validateFieldsInternal(fields, _ref, callback) {\n        var _this7 = this;\n\n        var fieldNames = _ref.fieldNames,\n            action = _ref.action,\n            _ref$options = _ref.options,\n            options = _ref$options === undefined ? {} : _ref$options;\n\n        var allRules = {};\n        var allValues = {};\n        var allFields = {};\n        var alreadyErrors = {};\n        fields.forEach(function (field) {\n          var name = field.name;\n          if (options.force !== true && field.dirty === false) {\n            if (field.errors) {\n              set(alreadyErrors, name, { errors: field.errors });\n            }\n            return;\n          }\n          var fieldMeta = _this7.fieldsStore.getFieldMeta(name);\n          var newField = _extends({}, field);\n          newField.errors = undefined;\n          newField.validating = true;\n          newField.dirty = true;\n          allRules[name] = _this7.getRules(fieldMeta, action);\n          allValues[name] = newField.value;\n          allFields[name] = newField;\n        });\n        this.setFields(allFields);\n        // in case normalize\n        Object.keys(allValues).forEach(function (f) {\n          allValues[f] = _this7.fieldsStore.getFieldValue(f);\n        });\n        if (callback && isEmptyObject(allFields)) {\n          callback(isEmptyObject(alreadyErrors) ? null : alreadyErrors, this.fieldsStore.getFieldsValue(fieldNames));\n          return;\n        }\n        var validator = new AsyncValidator(allRules);\n        if (validateMessages) {\n          validator.messages(validateMessages);\n        }\n        validator.validate(allValues, options, function (errors) {\n          var errorsGroup = _extends({}, alreadyErrors);\n          if (errors && errors.length) {\n            errors.forEach(function (e) {\n              var errorFieldName = e.field;\n              var fieldName = errorFieldName;\n\n              // Handle using array validation rule.\n              // ref: https://github.com/ant-design/ant-design/issues/14275\n              Object.keys(allRules).some(function (ruleFieldName) {\n                var rules = allRules[ruleFieldName] || [];\n\n                // Exist if match rule\n                if (ruleFieldName === errorFieldName) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                // Skip if not match array type\n                if (rules.every(function (_ref2) {\n                  var type = _ref2.type;\n                  return type !== 'array';\n                }) || errorFieldName.indexOf(ruleFieldName + '.') !== 0) {\n                  return false;\n                }\n\n                // Exist if match the field name\n                var restPath = errorFieldName.slice(ruleFieldName.length + 1);\n                if (/^\\d+$/.test(restPath)) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                return false;\n              });\n\n              var field = get(errorsGroup, fieldName);\n              if (typeof field !== 'object' || Array.isArray(field)) {\n                set(errorsGroup, fieldName, { errors: [] });\n              }\n              var fieldErrors = get(errorsGroup, fieldName.concat('.errors'));\n              fieldErrors.push(e);\n            });\n          }\n          var expired = [];\n          var nowAllFields = {};\n          Object.keys(allRules).forEach(function (name) {\n            var fieldErrors = get(errorsGroup, name);\n            var nowField = _this7.fieldsStore.getField(name);\n            // avoid concurrency problems\n            if (!eq(nowField.value, allValues[name])) {\n              expired.push({\n                name: name\n              });\n            } else {\n              nowField.errors = fieldErrors && fieldErrors.errors;\n              nowField.value = allValues[name];\n              nowField.validating = false;\n              nowField.dirty = false;\n              nowAllFields[name] = nowField;\n            }\n          });\n          _this7.setFields(nowAllFields);\n          if (callback) {\n            if (expired.length) {\n              expired.forEach(function (_ref3) {\n                var name = _ref3.name;\n\n                var fieldErrors = [{\n                  message: name + ' need to revalidate',\n                  field: name\n                }];\n                set(errorsGroup, name, {\n                  expired: true,\n                  errors: fieldErrors\n                });\n              });\n            }\n\n            callback(isEmptyObject(errorsGroup) ? null : errorsGroup, _this7.fieldsStore.getFieldsValue(fieldNames));\n          }\n        });\n      },\n      validateFields: function validateFields(ns, opt, cb) {\n        var _this8 = this;\n\n        var pending = new Promise(function (resolve, reject) {\n          var _getParams = getParams(ns, opt, cb),\n              names = _getParams.names,\n              options = _getParams.options;\n\n          var _getParams2 = getParams(ns, opt, cb),\n              callback = _getParams2.callback;\n\n          if (!callback || typeof callback === 'function') {\n            var oldCb = callback;\n            callback = function callback(errors, values) {\n              if (oldCb) {\n                oldCb(errors, values);\n              }\n              if (errors) {\n                reject({ errors: errors, values: values });\n              } else {\n                resolve(values);\n              }\n            };\n          }\n          var fieldNames = names ? _this8.fieldsStore.getValidFieldsFullName(names) : _this8.fieldsStore.getValidFieldsName();\n          var fields = fieldNames.filter(function (name) {\n            var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n            return hasRules(fieldMeta.validate);\n          }).map(function (name) {\n            var field = _this8.fieldsStore.getField(name);\n            field.value = _this8.fieldsStore.getFieldValue(name);\n            return field;\n          });\n          if (!fields.length) {\n            callback(null, _this8.fieldsStore.getFieldsValue(fieldNames));\n            return;\n          }\n          if (!('firstFields' in options)) {\n            options.firstFields = fieldNames.filter(function (name) {\n              var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n              return !!fieldMeta.validateFirst;\n            });\n          }\n          _this8.validateFieldsInternal(fields, {\n            fieldNames: fieldNames,\n            options: options\n          }, callback);\n        });\n        pending['catch'](function (e) {\n          // eslint-disable-next-line no-console\n          if (console.error && process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(e);\n          }\n          return e;\n        });\n        return pending;\n      },\n      isSubmitting: function isSubmitting() {\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`isSubmitting` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        return this.state.submitting;\n      },\n      submit: function submit(callback) {\n        var _this9 = this;\n\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`submit` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        var fn = function fn() {\n          _this9.setState({\n            submitting: false\n          });\n        };\n        this.setState({\n          submitting: true\n        });\n        callback(fn);\n      },\n      render: function render() {\n        var _props = this.props,\n            wrappedComponentRef = _props.wrappedComponentRef,\n            restProps = _objectWithoutProperties(_props, ['wrappedComponentRef']); // eslint-disable-line\n\n\n        var formProps = _defineProperty({}, formPropName, this.getForm());\n        if (withRef) {\n          if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n            warning(false, '`withRef` is deprecated, please use `wrappedComponentRef` instead. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n          }\n          formProps.ref = 'wrappedComponent';\n        } else if (wrappedComponentRef) {\n          formProps.ref = wrappedComponentRef;\n        }\n        var props = mapProps.call(this, _extends({}, formProps, restProps));\n        return React.createElement(WrappedComponent, props);\n      }\n    });\n\n    return argumentContainer(unsafeLifecyclesPolyfill(Form), WrappedComponent);\n  };\n}\n\nexport default createBaseForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}