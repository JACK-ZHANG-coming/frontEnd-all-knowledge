{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandUndo\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nfunction keyCommandUndo(e, editorState, updateFn) {\n  var undoneState = EditorState.undo(editorState);\n\n  // If the last change to occur was a spellcheck change, allow the undo\n  // event to fall through to the browser. This allows the browser to record\n  // the unwanted change, which should soon lead it to learn not to suggest\n  // the correction again.\n  if (editorState.getLastChangeType() === 'spellcheck-change') {\n    var nativelyRenderedContent = undoneState.getCurrentContent();\n    updateFn(EditorState.set(undoneState, {\n      nativelyRenderedContent: nativelyRenderedContent\n    }));\n    return;\n  }\n\n  // Otheriwse, manage the undo behavior manually.\n  e.preventDefault();\n  if (!editorState.getNativelyRenderedContent()) {\n    updateFn(undoneState);\n    return;\n  }\n\n  // Trigger a re-render with the current content state to ensure that the\n  // component tree has up-to-date props for comparison.\n  updateFn(EditorState.set(editorState, {\n    nativelyRenderedContent: null\n  }));\n\n  // Wait to ensure that the re-render has occurred before performing\n  // the undo action.\n  setTimeout(function () {\n    updateFn(undoneState);\n  }, 0);\n}\nmodule.exports = keyCommandUndo;","map":{"version":3,"names":["EditorState","require","keyCommandUndo","e","editorState","updateFn","undoneState","undo","getLastChangeType","nativelyRenderedContent","getCurrentContent","set","preventDefault","getNativelyRenderedContent","setTimeout","module","exports"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-core/node_modules/draft-js/lib/keyCommandUndo.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandUndo\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\nfunction keyCommandUndo(e, editorState, updateFn) {\n  var undoneState = EditorState.undo(editorState);\n\n  // If the last change to occur was a spellcheck change, allow the undo\n  // event to fall through to the browser. This allows the browser to record\n  // the unwanted change, which should soon lead it to learn not to suggest\n  // the correction again.\n  if (editorState.getLastChangeType() === 'spellcheck-change') {\n    var nativelyRenderedContent = undoneState.getCurrentContent();\n    updateFn(EditorState.set(undoneState, { nativelyRenderedContent: nativelyRenderedContent }));\n    return;\n  }\n\n  // Otheriwse, manage the undo behavior manually.\n  e.preventDefault();\n  if (!editorState.getNativelyRenderedContent()) {\n    updateFn(undoneState);\n    return;\n  }\n\n  // Trigger a re-render with the current content state to ensure that the\n  // component tree has up-to-date props for comparison.\n  updateFn(EditorState.set(editorState, { nativelyRenderedContent: null }));\n\n  // Wait to ensure that the re-render has occurred before performing\n  // the undo action.\n  setTimeout(function () {\n    updateFn(undoneState);\n  }, 0);\n}\n\nmodule.exports = keyCommandUndo;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,WAAW,GAAGC,OAAO,CAAC,eAAe,CAAC;AAE1C,SAASC,cAAcA,CAACC,CAAC,EAAEC,WAAW,EAAEC,QAAQ,EAAE;EAChD,IAAIC,WAAW,GAAGN,WAAW,CAACO,IAAI,CAACH,WAAW,CAAC;;EAE/C;EACA;EACA;EACA;EACA,IAAIA,WAAW,CAACI,iBAAiB,CAAC,CAAC,KAAK,mBAAmB,EAAE;IAC3D,IAAIC,uBAAuB,GAAGH,WAAW,CAACI,iBAAiB,CAAC,CAAC;IAC7DL,QAAQ,CAACL,WAAW,CAACW,GAAG,CAACL,WAAW,EAAE;MAAEG,uBAAuB,EAAEA;IAAwB,CAAC,CAAC,CAAC;IAC5F;EACF;;EAEA;EACAN,CAAC,CAACS,cAAc,CAAC,CAAC;EAClB,IAAI,CAACR,WAAW,CAACS,0BAA0B,CAAC,CAAC,EAAE;IAC7CR,QAAQ,CAACC,WAAW,CAAC;IACrB;EACF;;EAEA;EACA;EACAD,QAAQ,CAACL,WAAW,CAACW,GAAG,CAACP,WAAW,EAAE;IAAEK,uBAAuB,EAAE;EAAK,CAAC,CAAC,CAAC;;EAEzE;EACA;EACAK,UAAU,CAAC,YAAY;IACrBT,QAAQ,CAACC,WAAW,CAAC;EACvB,CAAC,EAAE,CAAC,CAAC;AACP;AAEAS,MAAM,CAACC,OAAO,GAAGd,cAAc"},"metadata":{},"sourceType":"script","externalDependencies":[]}