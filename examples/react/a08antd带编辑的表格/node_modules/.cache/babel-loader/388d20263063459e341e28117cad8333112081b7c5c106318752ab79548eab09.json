{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnSelect\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar ReactDOM = require('react-dom');\nvar getDraftEditorSelection = require('./getDraftEditorSelection');\nvar invariant = require('fbjs/lib/invariant');\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    return;\n  }\n  var editorState = editor.props.editorState;\n  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);\n  !editorNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !(editorNode.firstChild instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);\n  var updatedSelectionState = documentSelection.selectionState;\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n    editor.update(editorState);\n  }\n}\nmodule.exports = editOnSelect;","map":{"version":3,"names":["EditorState","require","ReactDOM","getDraftEditorSelection","invariant","editOnSelect","editor","_blockSelectEvents","_latestEditorState","props","editorState","editorNode","findDOMNode","editorContainer","process","env","NODE_ENV","firstChild","HTMLElement","documentSelection","updatedSelectionState","selectionState","getSelection","needsRecovery","forceSelection","acceptSelection","update","module","exports"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-core/node_modules/draft-js/lib/editOnSelect.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnSelect\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar ReactDOM = require('react-dom');\n\nvar getDraftEditorSelection = require('./getDraftEditorSelection');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);\n  !editorNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !(editorNode.firstChild instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,WAAW,GAAGC,OAAO,CAAC,eAAe,CAAC;AAC1C,IAAIC,QAAQ,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEnC,IAAIE,uBAAuB,GAAGF,OAAO,CAAC,2BAA2B,CAAC;AAClE,IAAIG,SAAS,GAAGH,OAAO,CAAC,oBAAoB,CAAC;AAE7C,SAASI,YAAYA,CAACC,MAAM,EAAE;EAC5B,IAAIA,MAAM,CAACC,kBAAkB,IAAID,MAAM,CAACE,kBAAkB,KAAKF,MAAM,CAACG,KAAK,CAACC,WAAW,EAAE;IACvF;EACF;EAEA,IAAIA,WAAW,GAAGJ,MAAM,CAACG,KAAK,CAACC,WAAW;EAC1C,IAAIC,UAAU,GAAGT,QAAQ,CAACU,WAAW,CAACN,MAAM,CAACO,eAAe,CAAC;EAC7D,CAACF,UAAU,GAAGG,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGZ,SAAS,CAAC,KAAK,EAAE,oBAAoB,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACxH,EAAEO,UAAU,CAACM,UAAU,YAAYC,WAAW,CAAC,GAAGJ,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGZ,SAAS,CAAC,KAAK,EAAE,6CAA6C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACrL,IAAIe,iBAAiB,GAAGhB,uBAAuB,CAACO,WAAW,EAAEC,UAAU,CAACM,UAAU,CAAC;EACnF,IAAIG,qBAAqB,GAAGD,iBAAiB,CAACE,cAAc;EAE5D,IAAID,qBAAqB,KAAKV,WAAW,CAACY,YAAY,CAAC,CAAC,EAAE;IACxD,IAAIH,iBAAiB,CAACI,aAAa,EAAE;MACnCb,WAAW,GAAGV,WAAW,CAACwB,cAAc,CAACd,WAAW,EAAEU,qBAAqB,CAAC;IAC9E,CAAC,MAAM;MACLV,WAAW,GAAGV,WAAW,CAACyB,eAAe,CAACf,WAAW,EAAEU,qBAAqB,CAAC;IAC/E;IACAd,MAAM,CAACoB,MAAM,CAAChB,WAAW,CAAC;EAC5B;AACF;AAEAiB,MAAM,CAACC,OAAO,GAAGvB,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}