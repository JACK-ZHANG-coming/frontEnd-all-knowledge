{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { decode } from 'draft-js/lib/DraftOffsetKey';\nimport Animate from 'rc-animate';\nimport cx from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport Nav from './Nav.react';\nimport SuggetionWrapper from './SuggestionWrapper.react';\nimport insertMention from '../utils/insertMention';\nimport clearMention from '../utils/clearMention';\nimport getOffset from '../utils/getOffset';\nimport getMentions from '../utils/getMentions';\nimport getSearchWord from '../utils/getSearchWord';\nvar isNotFalse = function isNotFalse(i) {\n  return i !== false;\n};\nvar Suggestions = function (_React$Component) {\n  _inherits(Suggestions, _React$Component);\n  function Suggestions() {\n    _classCallCheck(this, Suggestions);\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this));\n    _this.onEditorStateChange = function (editorState) {\n      var offset = _this.props.store.getOffset();\n      if (offset.size === 0) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var selection = editorState.getSelection();\n\n      // 修复: 焦点移出再移入时, dropdown 会闪动一下\n      // 原因: https://github.com/facebook/draft-js/blob/67c5e69499e3b0c149ce83b004872afdf4180463/src/component/handlers/edit/editOnFocus.js#L33\n      // 此处强制 update 了一下,因此 onEditorStateChange 会 call 两次\n      if (!_this.props.callbacks.getEditorState().getSelection().getHasFocus() && selection.getHasFocus()) {\n        return editorState;\n      }\n      var _getSearchWord = getSearchWord(editorState, selection),\n        word = _getSearchWord.word;\n      if (!word) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var selectionInsideMention = offset.map(function (_ref) {\n        var offsetKey = _ref.offsetKey;\n        var _decode = decode(offsetKey),\n          blockKey = _decode.blockKey,\n          decoratorKey = _decode.decoratorKey,\n          leafKey = _decode.leafKey;\n        if (blockKey !== selection.anchorKey) {\n          return false;\n        }\n        var leaf = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]);\n        if (!leaf) {\n          return false;\n        }\n        var startKey = leaf.get('start');\n        var endKey = leaf.get('end');\n        // 处理只有一个 `@` 符号时的情况\n        if (!word) {\n          return false;\n        }\n        if (startKey === endKey - 1) {\n          return selection.anchorOffset >= startKey + 1 && selection.anchorOffset <= endKey ? offsetKey : false;\n        }\n        return selection.anchorOffset > startKey + 1 && selection.anchorOffset <= endKey ? offsetKey : false;\n      });\n      var selectionInText = selectionInsideMention.some(isNotFalse);\n      _this.activeOffsetKey = selectionInsideMention.find(isNotFalse) || _this.activeOffsetKey;\n      var trigger = _this.props.store.getTrigger(_this.activeOffsetKey);\n      if (!selectionInText || !selection.getHasFocus()) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var searchValue = word.substring(trigger.length, word.length);\n      if (_this.lastSearchValue !== searchValue || _this.lastTrigger !== trigger) {\n        _this.lastSearchValue = searchValue;\n        _this.lastTrigger = trigger;\n        _this.props.onSearchChange(searchValue, trigger);\n      }\n      if (!_this.state.active) {\n        // 特例处理 https://github.com/ant-design/ant-design/issues/7838\n        // 暂时没有更优雅的方法\n        if (!trigger || word.indexOf(trigger) !== -1) {\n          _this.openDropDown();\n        }\n      }\n      return editorState;\n    };\n    _this.onUpArrow = function (ev) {\n      ev.preventDefault();\n      if (_this.props.suggestions.length > 0) {\n        var newIndex = _this.state.focusedIndex - 1;\n        _this.setState({\n          focusedIndex: Math.max(newIndex, 0)\n        });\n      }\n    };\n    _this.onBlur = function (ev) {\n      ev.preventDefault();\n      _this.closeDropDown();\n    };\n    _this.onDownArrow = function (ev) {\n      ev.preventDefault();\n      var newIndex = _this.state.focusedIndex + 1;\n      _this.setState({\n        focusedIndex: newIndex >= _this.props.suggestions.length ? 0 : newIndex\n      });\n    };\n    _this.getContainer = function () {\n      var popupContainer = document.createElement('div');\n      var mountNode = void 0;\n      if (_this.props.getSuggestionContainer) {\n        mountNode = _this.props.getSuggestionContainer();\n        popupContainer.style.position = 'relative';\n      } else {\n        mountNode = document.body;\n      }\n      mountNode.appendChild(popupContainer);\n      return popupContainer;\n    };\n    _this.handleKeyBinding = function (command) {\n      return command === 'split-block';\n    };\n    _this.handleReturn = function (ev) {\n      ev.preventDefault();\n      var selectedSuggestion = _this.props.suggestions[_this.state.focusedIndex];\n      if (selectedSuggestion) {\n        if (React.isValidElement(selectedSuggestion)) {\n          _this.onMentionSelect(selectedSuggestion.props.value, selectedSuggestion.props.data);\n        } else {\n          _this.onMentionSelect(selectedSuggestion);\n        }\n        _this.lastSearchValue = null;\n        _this.lastTrigger = null;\n        return true;\n      }\n      return false;\n    };\n    _this.renderReady = function () {\n      var container = _this.dropdownContainer;\n      if (!container) {\n        return;\n      }\n      var active = _this.state.active;\n      var activeOffsetKey = _this.activeOffsetKey;\n      var offset = _this.props.store.getOffset();\n      var dropDownPosition = offset.get(activeOffsetKey);\n      if (active && dropDownPosition) {\n        var placement = _this.props.placement;\n        var dropDownStyle = _this.getPositionStyle(true, dropDownPosition.position());\n\n        // Check if the above space is crowded\n        var isTopCrowded = parseFloat(dropDownStyle.top) - window.scrollY - container.offsetHeight < 0;\n        // Check if the under space is crowded\n        var isBottomCrowded = (window.innerHeight || document.documentElement.clientHeight) - (parseFloat(dropDownStyle.top) - window.scrollY) - container.offsetHeight < 0;\n        if (placement === 'top' && !isTopCrowded) {\n          // The above space isn't crowded\n          dropDownStyle.top = (parseFloat(dropDownStyle.top) - container.offsetHeight || 0) + 'px';\n        }\n        if (placement === 'bottom' && isBottomCrowded && !isTopCrowded) {\n          // The above space isn't crowded and the under space is crowded.\n          dropDownStyle.top = (parseFloat(dropDownStyle.top) - container.offsetHeight || 0) + 'px';\n        }\n        Object.keys(dropDownStyle).forEach(function (key) {\n          container.style[key] = dropDownStyle[key];\n        });\n      }\n      if (!_this.focusItem) {\n        return;\n      }\n      scrollIntoView(ReactDOM.findDOMNode(_this.focusItem), container, {\n        onlyScrollIfNeeded: true\n      });\n    };\n    _this.getNavigations = function () {\n      var _this$props = _this.props,\n        prefixCls = _this$props.prefixCls,\n        suggestions = _this$props.suggestions;\n      var focusedIndex = _this.state.focusedIndex;\n      return suggestions.length ? React.Children.map(suggestions, function (element, index) {\n        var focusItem = index === focusedIndex;\n        var ref = focusItem ? function (node) {\n          _this.focusItem = node;\n        } : null;\n        var mentionClass = cx(prefixCls + '-dropdown-item', {\n          focus: focusItem\n        });\n        if (React.isValidElement(element)) {\n          return React.cloneElement(element, {\n            className: mentionClass,\n            onMouseDown: function onMouseDown() {\n              return _this.onDropdownMentionSelect(element.props.value, element.props.data);\n            },\n            ref: ref\n          });\n        }\n        return React.createElement(Nav, {\n          ref: ref,\n          className: mentionClass,\n          onMouseDown: function onMouseDown() {\n            return _this.onDropdownMentionSelect(element);\n          }\n        }, element);\n      }, _this) : React.createElement('div', {\n        className: prefixCls + '-dropdown-notfound ' + prefixCls + '-dropdown-item'\n      }, _this.props.notFoundContent);\n    };\n    _this.state = {\n      isActive: false,\n      focusedIndex: 0,\n      container: false\n    };\n    return _this;\n  }\n  Suggestions.prototype.componentDidMount = function componentDidMount() {\n    this.props.callbacks.onChange = this.onEditorStateChange;\n  };\n  Suggestions.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.suggestions.length !== this.props.suggestions.length) {\n      this.setState({\n        focusedIndex: 0\n      });\n    }\n  };\n  Suggestions.prototype.onDropdownMentionSelect = function onDropdownMentionSelect(mention, data) {\n    var _this2 = this;\n    setTimeout(function () {\n      _this2.onMentionSelect(mention, data);\n    }, 100);\n  };\n  Suggestions.prototype.onMentionSelect = function onMentionSelect(mention, data) {\n    var editorState = this.props.callbacks.getEditorState();\n    var _props = this.props,\n      store = _props.store,\n      onSelect = _props.onSelect;\n    var trigger = store.getTrigger(this.activeOffsetKey);\n    if (onSelect) {\n      onSelect(mention, data || mention);\n    }\n    if (this.props.noRedup) {\n      var mentions = getMentions(editorState.getCurrentContent(), trigger);\n      if (mentions.indexOf('' + trigger + mention) !== -1) {\n        // eslint-disable-next-line\n        console.warn('you have specified `noRedup` props but have duplicated mentions.');\n        this.closeDropDown();\n        this.props.callbacks.setEditorState(clearMention(editorState));\n        return;\n      }\n    }\n    this.props.callbacks.setEditorState(insertMention(editorState, '' + trigger + mention, data, this.props.mode), true);\n    this.closeDropDown();\n  };\n  Suggestions.prototype.getPositionStyle = function getPositionStyle(isActive, position) {\n    if (this.props.getSuggestionStyle) {\n      return this.props.getSuggestionStyle(isActive, position);\n    }\n    var container = this.props.getSuggestionContainer ? this.state.container : document.body;\n    var offset = getOffset(container);\n    return position ? _extends({\n      position: 'absolute',\n      left: position.left - offset.left + 'px',\n      top: position.top - offset.top + 'px'\n    }, this.props.style) : {};\n  };\n  Suggestions.prototype.openDropDown = function openDropDown() {\n    this.props.callbacks.onUpArrow = this.onUpArrow;\n    this.props.callbacks.handleReturn = this.handleReturn;\n    this.props.callbacks.handleKeyBinding = this.handleKeyBinding;\n    this.props.callbacks.onDownArrow = this.onDownArrow;\n    this.props.callbacks.onBlur = this.onBlur;\n    this.setState({\n      active: true,\n      container: this.state.container || this.getContainer()\n    });\n  };\n  Suggestions.prototype.closeDropDown = function closeDropDown() {\n    this.props.callbacks.onUpArrow = null;\n    this.props.callbacks.handleReturn = null;\n    this.props.callbacks.handleKeyBinding = null;\n    this.props.callbacks.onDownArrow = null;\n    this.props.callbacks.onBlur = null;\n    this.setState({\n      active: false\n    });\n  };\n  Suggestions.prototype.render = function render() {\n    var _extends2,\n      _this3 = this;\n    var _props2 = this.props,\n      prefixCls = _props2.prefixCls,\n      className = _props2.className,\n      placement = _props2.placement;\n    var _state = this.state,\n      container = _state.container,\n      active = _state.active;\n    var cls = cx(_extends((_extends2 = {}, _extends2[prefixCls + '-dropdown'] = true, _extends2[prefixCls + '-dropdown-placement-' + placement] = true, _extends2), className));\n    var transitionName = placement === 'top' ? 'slide-down' : 'slide-up';\n    var navigations = this.getNavigations();\n    return container ? React.createElement(SuggetionWrapper, {\n      renderReady: this.renderReady,\n      container: container\n    }, React.createElement(Animate, {\n      transitionName: transitionName\n    }, active ? React.createElement('div', {\n      className: cls,\n      ref: function ref(node) {\n        _this3.dropdownContainer = node;\n      }\n    }, navigations) : null)) : null;\n  };\n  return Suggestions;\n}(React.Component);\nexport default Suggestions;\nSuggestions.propTypes = {\n  callbacks: PropTypes.object,\n  suggestions: PropTypes.array,\n  store: PropTypes.object,\n  onSearchChange: PropTypes.func,\n  prefixCls: PropTypes.string,\n  mode: PropTypes.string,\n  style: PropTypes.object,\n  onSelect: PropTypes.func,\n  getSuggestionContainer: PropTypes.func,\n  notFoundContent: PropTypes.any,\n  getSuggestionStyle: PropTypes.func,\n  className: PropTypes.string,\n  noRedup: PropTypes.bool,\n  placement: PropTypes.string\n};","map":{"version":3,"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","ReactDOM","PropTypes","decode","Animate","cx","scrollIntoView","Nav","SuggetionWrapper","insertMention","clearMention","getOffset","getMentions","getSearchWord","isNotFalse","i","Suggestions","_React$Component","_this","call","onEditorStateChange","editorState","offset","props","store","size","closeDropDown","selection","getSelection","callbacks","getEditorState","getHasFocus","_getSearchWord","word","selectionInsideMention","map","_ref","offsetKey","_decode","blockKey","decoratorKey","leafKey","anchorKey","leaf","getBlockTree","getIn","startKey","get","endKey","anchorOffset","selectionInText","some","activeOffsetKey","find","trigger","getTrigger","searchValue","substring","length","lastSearchValue","lastTrigger","onSearchChange","state","active","indexOf","openDropDown","onUpArrow","ev","preventDefault","suggestions","newIndex","focusedIndex","setState","Math","max","onBlur","onDownArrow","getContainer","popupContainer","document","createElement","mountNode","getSuggestionContainer","style","position","body","appendChild","handleKeyBinding","command","handleReturn","selectedSuggestion","isValidElement","onMentionSelect","value","data","renderReady","container","dropdownContainer","dropDownPosition","placement","dropDownStyle","getPositionStyle","isTopCrowded","parseFloat","top","window","scrollY","offsetHeight","isBottomCrowded","innerHeight","documentElement","clientHeight","Object","keys","forEach","key","focusItem","findDOMNode","onlyScrollIfNeeded","getNavigations","_this$props","prefixCls","Children","element","index","ref","node","mentionClass","focus","cloneElement","className","onMouseDown","onDropdownMentionSelect","notFoundContent","isActive","prototype","componentDidMount","onChange","componentWillReceiveProps","nextProps","mention","_this2","setTimeout","_props","onSelect","noRedup","mentions","getCurrentContent","console","warn","setEditorState","mode","getSuggestionStyle","left","render","_extends2","_this3","_props2","_state","cls","transitionName","navigations","Component","propTypes","object","array","func","string","any","bool"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-mention/es/component/Suggestions.react.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { decode } from 'draft-js/lib/DraftOffsetKey';\nimport Animate from 'rc-animate';\n\nimport cx from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\n\nimport Nav from './Nav.react';\nimport SuggetionWrapper from './SuggestionWrapper.react';\n\nimport insertMention from '../utils/insertMention';\nimport clearMention from '../utils/clearMention';\nimport getOffset from '../utils/getOffset';\nimport getMentions from '../utils/getMentions';\nimport getSearchWord from '../utils/getSearchWord';\n\nvar isNotFalse = function isNotFalse(i) {\n  return i !== false;\n};\n\nvar Suggestions = function (_React$Component) {\n  _inherits(Suggestions, _React$Component);\n\n  function Suggestions() {\n    _classCallCheck(this, Suggestions);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this));\n\n    _this.onEditorStateChange = function (editorState) {\n      var offset = _this.props.store.getOffset();\n      if (offset.size === 0) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var selection = editorState.getSelection();\n\n      // 修复: 焦点移出再移入时, dropdown 会闪动一下\n      // 原因: https://github.com/facebook/draft-js/blob/67c5e69499e3b0c149ce83b004872afdf4180463/src/component/handlers/edit/editOnFocus.js#L33\n      // 此处强制 update 了一下,因此 onEditorStateChange 会 call 两次\n      if (!_this.props.callbacks.getEditorState().getSelection().getHasFocus() && selection.getHasFocus()) {\n        return editorState;\n      }\n\n      var _getSearchWord = getSearchWord(editorState, selection),\n          word = _getSearchWord.word;\n\n      if (!word) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var selectionInsideMention = offset.map(function (_ref) {\n        var offsetKey = _ref.offsetKey;\n\n        var _decode = decode(offsetKey),\n            blockKey = _decode.blockKey,\n            decoratorKey = _decode.decoratorKey,\n            leafKey = _decode.leafKey;\n\n        if (blockKey !== selection.anchorKey) {\n          return false;\n        }\n        var leaf = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]);\n        if (!leaf) {\n          return false;\n        }\n        var startKey = leaf.get('start');\n        var endKey = leaf.get('end');\n        // 处理只有一个 `@` 符号时的情况\n        if (!word) {\n          return false;\n        }\n        if (startKey === endKey - 1) {\n          return selection.anchorOffset >= startKey + 1 && selection.anchorOffset <= endKey ? offsetKey : false;\n        }\n        return selection.anchorOffset > startKey + 1 && selection.anchorOffset <= endKey ? offsetKey : false;\n      });\n\n      var selectionInText = selectionInsideMention.some(isNotFalse);\n      _this.activeOffsetKey = selectionInsideMention.find(isNotFalse) || _this.activeOffsetKey;\n      var trigger = _this.props.store.getTrigger(_this.activeOffsetKey);\n\n      if (!selectionInText || !selection.getHasFocus()) {\n        _this.closeDropDown();\n        return editorState;\n      }\n      var searchValue = word.substring(trigger.length, word.length);\n      if (_this.lastSearchValue !== searchValue || _this.lastTrigger !== trigger) {\n        _this.lastSearchValue = searchValue;\n        _this.lastTrigger = trigger;\n        _this.props.onSearchChange(searchValue, trigger);\n      }\n      if (!_this.state.active) {\n        // 特例处理 https://github.com/ant-design/ant-design/issues/7838\n        // 暂时没有更优雅的方法\n        if (!trigger || word.indexOf(trigger) !== -1) {\n          _this.openDropDown();\n        }\n      }\n      return editorState;\n    };\n\n    _this.onUpArrow = function (ev) {\n      ev.preventDefault();\n      if (_this.props.suggestions.length > 0) {\n        var newIndex = _this.state.focusedIndex - 1;\n        _this.setState({\n          focusedIndex: Math.max(newIndex, 0)\n        });\n      }\n    };\n\n    _this.onBlur = function (ev) {\n      ev.preventDefault();\n      _this.closeDropDown();\n    };\n\n    _this.onDownArrow = function (ev) {\n      ev.preventDefault();\n      var newIndex = _this.state.focusedIndex + 1;\n      _this.setState({\n        focusedIndex: newIndex >= _this.props.suggestions.length ? 0 : newIndex\n      });\n    };\n\n    _this.getContainer = function () {\n      var popupContainer = document.createElement('div');\n      var mountNode = void 0;\n      if (_this.props.getSuggestionContainer) {\n        mountNode = _this.props.getSuggestionContainer();\n        popupContainer.style.position = 'relative';\n      } else {\n        mountNode = document.body;\n      }\n      mountNode.appendChild(popupContainer);\n      return popupContainer;\n    };\n\n    _this.handleKeyBinding = function (command) {\n      return command === 'split-block';\n    };\n\n    _this.handleReturn = function (ev) {\n      ev.preventDefault();\n      var selectedSuggestion = _this.props.suggestions[_this.state.focusedIndex];\n      if (selectedSuggestion) {\n        if (React.isValidElement(selectedSuggestion)) {\n          _this.onMentionSelect(selectedSuggestion.props.value, selectedSuggestion.props.data);\n        } else {\n          _this.onMentionSelect(selectedSuggestion);\n        }\n        _this.lastSearchValue = null;\n        _this.lastTrigger = null;\n        return true;\n      }\n      return false;\n    };\n\n    _this.renderReady = function () {\n      var container = _this.dropdownContainer;\n      if (!container) {\n        return;\n      }\n      var active = _this.state.active;\n      var activeOffsetKey = _this.activeOffsetKey;\n\n      var offset = _this.props.store.getOffset();\n      var dropDownPosition = offset.get(activeOffsetKey);\n\n      if (active && dropDownPosition) {\n        var placement = _this.props.placement;\n        var dropDownStyle = _this.getPositionStyle(true, dropDownPosition.position());\n\n        // Check if the above space is crowded\n        var isTopCrowded = parseFloat(dropDownStyle.top) - window.scrollY - container.offsetHeight < 0;\n        // Check if the under space is crowded\n        var isBottomCrowded = (window.innerHeight || document.documentElement.clientHeight) - (parseFloat(dropDownStyle.top) - window.scrollY) - container.offsetHeight < 0;\n\n        if (placement === 'top' && !isTopCrowded) {\n          // The above space isn't crowded\n          dropDownStyle.top = (parseFloat(dropDownStyle.top) - container.offsetHeight || 0) + 'px';\n        }\n\n        if (placement === 'bottom' && isBottomCrowded && !isTopCrowded) {\n          // The above space isn't crowded and the under space is crowded.\n          dropDownStyle.top = (parseFloat(dropDownStyle.top) - container.offsetHeight || 0) + 'px';\n        }\n\n        Object.keys(dropDownStyle).forEach(function (key) {\n          container.style[key] = dropDownStyle[key];\n        });\n      }\n\n      if (!_this.focusItem) {\n        return;\n      }\n      scrollIntoView(ReactDOM.findDOMNode(_this.focusItem), container, {\n        onlyScrollIfNeeded: true\n      });\n    };\n\n    _this.getNavigations = function () {\n      var _this$props = _this.props,\n          prefixCls = _this$props.prefixCls,\n          suggestions = _this$props.suggestions;\n      var focusedIndex = _this.state.focusedIndex;\n\n      return suggestions.length ? React.Children.map(suggestions, function (element, index) {\n        var focusItem = index === focusedIndex;\n        var ref = focusItem ? function (node) {\n          _this.focusItem = node;\n        } : null;\n        var mentionClass = cx(prefixCls + '-dropdown-item', {\n          focus: focusItem\n        });\n        if (React.isValidElement(element)) {\n          return React.cloneElement(element, {\n            className: mentionClass,\n            onMouseDown: function onMouseDown() {\n              return _this.onDropdownMentionSelect(element.props.value, element.props.data);\n            },\n            ref: ref\n          });\n        }\n        return React.createElement(\n          Nav,\n          {\n            ref: ref,\n            className: mentionClass,\n            onMouseDown: function onMouseDown() {\n              return _this.onDropdownMentionSelect(element);\n            }\n          },\n          element\n        );\n      }, _this) : React.createElement(\n        'div',\n        { className: prefixCls + '-dropdown-notfound ' + prefixCls + '-dropdown-item' },\n        _this.props.notFoundContent\n      );\n    };\n\n    _this.state = {\n      isActive: false,\n      focusedIndex: 0,\n      container: false\n    };\n    return _this;\n  }\n\n  Suggestions.prototype.componentDidMount = function componentDidMount() {\n    this.props.callbacks.onChange = this.onEditorStateChange;\n  };\n\n  Suggestions.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.suggestions.length !== this.props.suggestions.length) {\n      this.setState({\n        focusedIndex: 0\n      });\n    }\n  };\n\n  Suggestions.prototype.onDropdownMentionSelect = function onDropdownMentionSelect(mention, data) {\n    var _this2 = this;\n\n    setTimeout(function () {\n      _this2.onMentionSelect(mention, data);\n    }, 100);\n  };\n\n  Suggestions.prototype.onMentionSelect = function onMentionSelect(mention, data) {\n    var editorState = this.props.callbacks.getEditorState();\n    var _props = this.props,\n        store = _props.store,\n        onSelect = _props.onSelect;\n\n    var trigger = store.getTrigger(this.activeOffsetKey);\n    if (onSelect) {\n      onSelect(mention, data || mention);\n    }\n    if (this.props.noRedup) {\n      var mentions = getMentions(editorState.getCurrentContent(), trigger);\n      if (mentions.indexOf('' + trigger + mention) !== -1) {\n        // eslint-disable-next-line\n        console.warn('you have specified `noRedup` props but have duplicated mentions.');\n        this.closeDropDown();\n        this.props.callbacks.setEditorState(clearMention(editorState));\n        return;\n      }\n    }\n    this.props.callbacks.setEditorState(insertMention(editorState, '' + trigger + mention, data, this.props.mode), true);\n    this.closeDropDown();\n  };\n\n  Suggestions.prototype.getPositionStyle = function getPositionStyle(isActive, position) {\n    if (this.props.getSuggestionStyle) {\n      return this.props.getSuggestionStyle(isActive, position);\n    }\n    var container = this.props.getSuggestionContainer ? this.state.container : document.body;\n    var offset = getOffset(container);\n    return position ? _extends({\n      position: 'absolute',\n      left: position.left - offset.left + 'px',\n      top: position.top - offset.top + 'px'\n    }, this.props.style) : {};\n  };\n\n  Suggestions.prototype.openDropDown = function openDropDown() {\n    this.props.callbacks.onUpArrow = this.onUpArrow;\n    this.props.callbacks.handleReturn = this.handleReturn;\n    this.props.callbacks.handleKeyBinding = this.handleKeyBinding;\n    this.props.callbacks.onDownArrow = this.onDownArrow;\n    this.props.callbacks.onBlur = this.onBlur;\n    this.setState({\n      active: true,\n      container: this.state.container || this.getContainer()\n    });\n  };\n\n  Suggestions.prototype.closeDropDown = function closeDropDown() {\n    this.props.callbacks.onUpArrow = null;\n    this.props.callbacks.handleReturn = null;\n    this.props.callbacks.handleKeyBinding = null;\n    this.props.callbacks.onDownArrow = null;\n    this.props.callbacks.onBlur = null;\n    this.setState({\n      active: false\n    });\n  };\n\n  Suggestions.prototype.render = function render() {\n    var _extends2,\n        _this3 = this;\n\n    var _props2 = this.props,\n        prefixCls = _props2.prefixCls,\n        className = _props2.className,\n        placement = _props2.placement;\n    var _state = this.state,\n        container = _state.container,\n        active = _state.active;\n\n    var cls = cx(_extends((_extends2 = {}, _extends2[prefixCls + '-dropdown'] = true, _extends2[prefixCls + '-dropdown-placement-' + placement] = true, _extends2), className));\n    var transitionName = placement === 'top' ? 'slide-down' : 'slide-up';\n\n    var navigations = this.getNavigations();\n\n    return container ? React.createElement(\n      SuggetionWrapper,\n      { renderReady: this.renderReady, container: container },\n      React.createElement(\n        Animate,\n        { transitionName: transitionName },\n        active ? React.createElement(\n          'div',\n          { className: cls, ref: function ref(node) {\n              _this3.dropdownContainer = node;\n            } },\n          navigations\n        ) : null\n      )\n    ) : null;\n  };\n\n  return Suggestions;\n}(React.Component);\n\nexport default Suggestions;\n\n\nSuggestions.propTypes = {\n  callbacks: PropTypes.object,\n  suggestions: PropTypes.array,\n  store: PropTypes.object,\n  onSearchChange: PropTypes.func,\n  prefixCls: PropTypes.string,\n  mode: PropTypes.string,\n  style: PropTypes.object,\n  onSelect: PropTypes.func,\n  getSuggestionContainer: PropTypes.func,\n  notFoundContent: PropTypes.any,\n  getSuggestionStyle: PropTypes.func,\n  className: PropTypes.string,\n  noRedup: PropTypes.bool,\n  placement: PropTypes.string\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}