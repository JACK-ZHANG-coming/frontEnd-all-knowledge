{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlockNode\n * @format\n * \n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\nvar findRangesImmutable = require('./findRangesImmutable');\nvar List = Immutable.List,\n  Map = Immutable.Map,\n  OrderedSet = Immutable.OrderedSet,\n  Record = Immutable.Record,\n  Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n  var characterList = config.characterList,\n    text = config.text;\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n  return config;\n};\nvar ContentBlockNode = function (_Record) {\n  _inherits(ContentBlockNode, _Record);\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n    _classCallCheck(this, ContentBlockNode);\n    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));\n  }\n  ContentBlockNode.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n  ContentBlockNode.prototype.getType = function getType() {\n    return this.get('type');\n  };\n  ContentBlockNode.prototype.getText = function getText() {\n    return this.get('text');\n  };\n  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n  ContentBlockNode.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n  ContentBlockNode.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n  ContentBlockNode.prototype.getData = function getData() {\n    return this.get('data');\n  };\n  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n  ContentBlockNode.prototype.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n  return ContentBlockNode;\n}(Record(defaultRecord));\nmodule.exports = ContentBlockNode;","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","CharacterMetadata","require","Immutable","findRangesImmutable","List","Map","OrderedSet","Record","Repeat","EMPTY_SET","defaultRecord","parent","characterList","data","depth","key","text","type","children","prevSibling","nextSibling","haveEqualStyle","charA","charB","getStyle","haveEqualEntity","getEntity","decorateCharacterList","config","EMPTY","length","ContentBlockNode","_Record","props","arguments","undefined","getKey","get","getType","getText","getCharacterList","getLength","getDepth","getData","getInlineStyleAt","offset","character","getEntityAt","getChildKeys","getParentKey","getPrevSiblingKey","getNextSiblingKey","findStyleRanges","filterFn","callback","findEntityRanges","module","exports"],"sources":["/Users/zhangqiang/Documents/GitHub/frontEnd-all-knowledge/examples/react/a08antd带编辑的表格/node_modules/rc-editor-core/node_modules/draft-js/lib/ContentBlockNode.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlockNode\n * @format\n * \n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = function (_Record) {\n  _inherits(ContentBlockNode, _Record);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n\n    _classCallCheck(this, ContentBlockNode);\n\n    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));\n  }\n\n  ContentBlockNode.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  ContentBlockNode.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  ContentBlockNode.prototype.getText = function getText() {\n    return this.get('text');\n  };\n\n  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  ContentBlockNode.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  ContentBlockNode.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  ContentBlockNode.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  ContentBlockNode.prototype.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}